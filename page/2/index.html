<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="Jimmy | iOS | develop | ç§»åŠ¨">
<meta property="og:type" content="website">
<meta property="og:title" content="Jimmy&#39;Zone">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Jimmy&#39;Zone">
<meta property="og:description" content="Jimmy | iOS | develop | ç§»åŠ¨">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jimmy&#39;Zone">
<meta name="twitter:description" content="Jimmy | iOS | develop | ç§»åŠ¨">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.2',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>Jimmy'Zone</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jimmy'Zone</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æ€åº¦å†³å®šä¸€åˆ‡ï¼Œç»†èŠ‚å†³å®šæˆè´¥</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/04/2017-05-04-R.swift-çš„ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/04/2017-05-04-R.swift-çš„ä½¿ç”¨/" itemprop="url">R.swift çš„ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-05-04T00:00:00+08:00">
                2017-05-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æœ¬æ–‡é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>, ä½œè€… <a href="http://github.com/qiubaiying" target="_blank" rel="external">@æŸè§(BY)</a> ,è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p>
</blockquote>
<h1 id="ä»€ä¹ˆæ˜¯-R-swift"><a href="#ä»€ä¹ˆæ˜¯-R-swift" class="headerlink" title="ä»€ä¹ˆæ˜¯ R.swift"></a>ä»€ä¹ˆæ˜¯ R.swift</h1><p>ä»‹ç» <a href="https://github.com/mac-cain13/R.swift" target="_blank" rel="external">R.swift</a> å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ R.swift èƒ½åšä»€ä¹ˆ</p>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬æ˜¯åŸºäº å­—ç¬¦ä¸² æ¥è·å–èµ„æºï¼Œä¾‹å¦‚ï¼šå›¾ç‰‡ã€xibã€æˆ–è€…æ˜¯ segue</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> myImage = <span class="type">UIImage</span>(named: <span class="string">"myImage"</span>)</div><div class="line"><span class="keyword">let</span> myViewController = <span class="type">R</span>.storyboard.main.myViewController()</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨ R.swfitï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> myImage = <span class="type">R</span>.image.myImage()</div><div class="line"><span class="keyword">let</span> viewController = <span class="type">R</span>.storyboard.main.myViewController()</div></pre></td></tr></table></figure>
<p>R.swift é€šè¿‡æ‰«æä½ çš„å„ç§åŸºäºå­—ç¬¦ä¸²å‘½åçš„èµ„æºï¼Œåˆ›å»ºä¸€ä¸ªä½¿ç”¨ç±»å‹æ¥è·å–èµ„æºã€‚</p>
<p>åœ¨ä¿è¯ç±»å‹å®‰å…¨çš„åŒæ—¶ï¼Œä¹Ÿåœ¨è‡ªåŠ¨è¡¥å…¨çš„å¸®åŠ©ä¸‹èŠ‚çœäº†å¤§é‡çš„æ—¶é—´ã€‚</p>
<h1 id="å¯¼å…¥-R-swift"><a href="#å¯¼å…¥-R-swift" class="headerlink" title="å¯¼å…¥ R.swift"></a>å¯¼å…¥ R.swift</h1><p><a href="https://github.com/mac-cain13/R.swift" target="_blank" rel="external">R.swift</a> å¼€æºåœ¨ github ä¸Šã€‚</p>
<p>è¿™é‡Œæ˜¯å¯¼å…¥çš„<a href="https://vimeo.com/122888912" target="_blank" rel="external">è§†é¢‘æ•™ç¨‹</a></p>
<p>ä½¿ç”¨ CocoaPods å¯¼å…¥é¡¹ç›®ä¸­</p>
<ol>
<li>æ·»åŠ  <code>pod &#39;R.swift&#39;</code>åˆ° Podfile æ–‡ä»¶ï¼Œç„¶åè¿è¡Œ <code>pod install</code></li>
<li><p>æ·»åŠ ä¸€ä¸ª <code>New Run Script Phase</code></p>
<p> <img src="https://ww4.sinaimg.cn/large/006tKfTcgy1ff84sw06qxj30vm0hrq6s.jpg" alt=""></p>
</li>
<li><p>å°† <code>Run Script</code> æ‹–åŠ¨åˆ° <code>Check Pods Manifest.lock</code> çš„ä¸‹é¢ï¼Œå¹¶ä¸”æ·»åŠ è„šæœ¬ <code>&quot;$PODS_ROOT/R.swift/rswift&quot; &quot;$SRCROOT/é¡¹ç›®åç§°&quot;</code></p>
<p> <img src="https://ww4.sinaimg.cn/large/006tNc79gy1ff853qjiucj30yp0kkn1b.jpg" alt=""></p>
</li>
<li><p><code>Command+B</code> ç¼–è¯‘é¡¹ç›®ï¼Œåœ¨é¡¹ç›®ä»£ç ç›®å½•ä¸‹ï¼Œä¼šç”Ÿæˆä¸€ä¸ª <code>R.generated.swift</code> çš„æ–‡ä»¶ï¼Œå°†å®ƒæ‹–å¦‚é¡¹ç›®ä¸­</p>
<blockquote>
<p>æ³¨æ„ï¼šä¸è¦å‹¾é€‰ <code>Copy items if needed</code> é€‰é¡¹ï¼Œå› ä¸ºæ¯æ¬¡ç¼–è¯‘éƒ½ä¼šç”Ÿæˆæ–°çš„ <code>R.generated.swift</code> æ–‡ä»¶ï¼Œcopy çš„è¯ï¼Œæ—§çš„ <code>R.generated.swift</code> å°†ä¸ä¼šè¢«è¦†ç›–ã€‚</p>
</blockquote>
<p> <img src="https://ww4.sinaimg.cn/large/006tNc79gy1ff85epj1qpj30qj0hdn17.jpg" alt=""></p>
</li>
</ol>
<blockquote>
<p>tipï¼š å¯ä»¥åœ¨æ·»åŠ  <code>.gitignore</code> æ·»åŠ ä¸€è¡Œ <code>*.generated.swift</code> å¿½ç•¥è¯¥æ–‡ä»¶ï¼Œé¿å…é€ æˆå†²çª</p>
</blockquote>
<h1 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h1><p>å¯¼å…¥å®Œæˆåï¼Œå°±å¯ä»¥åœ¨ä½¿ç”¨ R.swift äº†</p>
<p> <img src="https://github.com/mac-cain13/R.swift/raw/master/Documentation/Images/DemoUseImage.gif" alt=""> </p>
<p>å…³äº R.swift çš„æ›´å¤šç”¨æ³•ï¼Œå¯ä»¥ <a href="https://github.com/mac-cain13/R.swift/blob/master/Documentation/Examples.md" target="_blank" rel="external">çœ‹è¿™é‡Œ</a>ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/03/2017-05-03-Swift-çš„æ‡’åŠ è½½å’Œè®¡ç®—å‹å±æ€§/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/03/2017-05-03-Swift-çš„æ‡’åŠ è½½å’Œè®¡ç®—å‹å±æ€§/" itemprop="url">Swift çš„æ‡’åŠ è½½å’Œè®¡ç®—å‹å±æ€§</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-05-03T00:00:00+08:00">
                2017-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æœ¬æ–‡é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>, ä½œè€… <a href="http://github.com/qiubaiying" target="_blank" rel="external">@æŸè§(BY)</a> ,è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p>
</blockquote>
<h3 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h3><p>å¸¸è§„ï¼ˆç®€åŒ–ï¼‰å†™æ³•</p>
<p>æ‡’åŠ è½½çš„å±æ€§ç”¨ <code>var</code> å£°æ˜</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lazy var name: String = &#123;</div><div class="line">	return &quot;BY&quot;</div><div class="line">&#125;()</div></pre></td></tr></table></figure>
<p>å®Œæ•´å†™æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lazy var name: String = &#123; () -&gt; String i</div><div class="line">	return &quot;BY&quot;</div><div class="line">&#125;()</div></pre></td></tr></table></figure>
<p>æœ¬è´¨æ˜¯ä¸€ä¸ªåˆ›å»ºä¸€ä¸ªé—­åŒ… <code>{}</code> å¹¶ä¸”åœ¨è°ƒç”¨è¯¥å±æ€§æ—¶æ‰§è¡Œé—­åŒ… <code>()</code>ã€‚</p>
<p>å¦‚OCçš„æ‡’åŠ è½½ä¸åŒçš„æ˜¯ swift æ‡’åŠ è½½é—­åŒ…åªè°ƒç”¨ä¸€æ¬¡ï¼Œå†æ¬¡è°ƒç”¨è¯¥å±æ€§æ—¶å› ä¸ºå±æ€§å·²ç»åˆ›å»ºï¼Œä¸å†æ‰§è¡Œé—­åŒ…ã€‚</p>
<h3 id="è®¡ç®—å‹å±æ€§"><a href="#è®¡ç®—å‹å±æ€§" class="headerlink" title="è®¡ç®—å‹å±æ€§"></a>è®¡ç®—å‹å±æ€§</h3><p>å¸¸è§„å†™æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var name: string &#123;</div><div class="line">	return &quot;BY&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å®Œæ•´å†™æ³• </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var name: string &#123;</div><div class="line">	get &#123;</div><div class="line">		return &quot;BY&quot;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è®¡ç®—å‹å±æ€§æœ¬è´¨æ˜¯é‡å†™äº† <code>get</code> æ–¹æ³•ï¼Œå…¶ç±»ä¼¼ä¸€ä¸ªæ— å‚æœ‰è¿”å›å€¼å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨è¯¥å±æ€§éƒ½ä¼šæ‰§è¡Œ <code>return</code></p>
<p>é€šå¸¸è¿™æ ·ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">struct Cuboid &#123;</div><div class="line">    var width = 0.0, height = 0.0, depth = 0.0</div><div class="line">    var volume: Double &#123;</div><div class="line">        return width * height * depth</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">let fourByFiveByTwo = Cuboid(width: 4.0, height: 5.0, depth: 2.0)</div><div class="line">print(&quot;the volume of fourByFiveByTwo is \(fourByFiveByTwo.volume)&quot;)</div><div class="line">// Prints &quot;the volume of fourByFiveByTwo is 40.0&quot;</div></pre></td></tr></table></figure>
<h3 id="ä¸¤è€…å¯¹æ¯”"><a href="#ä¸¤è€…å¯¹æ¯”" class="headerlink" title="ä¸¤è€…å¯¹æ¯”"></a>ä¸¤è€…å¯¹æ¯”</h3><p>ç›¸åŒç‚¹</p>
<ul>
<li>ä½¿ç”¨æ–¹æ³•å®Œå…¨ä¸€è‡´</li>
<li>éƒ½æ˜¯ç”¨ <code>var</code> å£°æ˜</li>
</ul>
<p>ä¸åŒç‚¹</p>
<ul>
<li><p>å®ç°åŸç†ä¸åŒ</p>
<p>  æ‡’åŠ è½½æ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨å±æ€§æ—¶æ‰§è¡Œé—­åŒ…è¿›è¡Œèµ‹å€¼</p>
<p>  è®¡ç®—å‹å±æ€§æ˜¯é‡å†™ <code>get</code> æ–¹æ³•</p>
</li>
<li><p>è°ƒç”¨ <code>{}</code>çš„æ¬¡æ•°ä¸åŒ</p>
<p>  æ‡’åŠ è½½çš„é—­åŒ…åªåœ¨å±æ€§ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æ‰§è¡Œ<br>  è®¡ç®—å‹å±æ€§æ¯æ¬¡è°ƒç”¨éƒ½è¦è¿›å…¥ <code>{}</code> ä¸­ï¼Œ<code>return</code> æ–°çš„å€¼</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/28/2017-04-28-RVM-ä½¿ç”¨æŒ‡å—/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/28/2017-04-28-RVM-ä½¿ç”¨æŒ‡å—/" itemprop="url">RVM ä½¿ç”¨æŒ‡å—</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-28T00:00:00+08:00">
                2017-04-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>RVM å¸¸ç”¨çš„å‘½ä»¤æ•´ç†</p>
</blockquote>
<p>RVM æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªä¾¿æ·çš„å¤šç‰ˆæœ¬ Ruby ç¯å¢ƒçš„ç®¡ç†å’Œåˆ‡æ¢ã€‚<a href="https://rvm.io/" target="_blank" rel="external">https://rvm.io/</a></p>
<p>æˆ‘ç›¸ä¿¡åšä¸ºiOSå¼€å‘è€…ï¼Œå¯¹rubyçš„ä½¿ç”¨éƒ½æ˜¯ä»å®‰è£… <strong>CocoaPods</strong> å¼€å§‹çš„å§~</p>
<blockquote>
<p><strong>Note</strong>ï¼šè¿™é‡Œæ‰€æœ‰çš„å‘½ä»¤éƒ½æ˜¯å†ç”¨æˆ·æƒé™ä¸‹æ“ä½œçš„ï¼Œä»»ä½•å‘½ä»¤æœ€å¥½éƒ½ä¸è¦ç”¨ sudo.</p>
</blockquote>
<h2 id="RVM-å®‰è£…"><a href="#RVM-å®‰è£…" class="headerlink" title="RVM å®‰è£…"></a>RVM å®‰è£…</h2><pre><code>$ gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3
$ \curl -sSL https://get.rvm.io | bash -s stable
$ source ~/.bashrc
$ source ~/.bash_profile
</code></pre><p>ä¿®æ”¹ RVM çš„ Ruby å®‰è£…æºåˆ° <a href="https://ruby-china.org/" target="_blank" rel="external">Ruby China</a> çš„ Ruby é•œåƒæœåŠ¡å™¨ï¼Œè¿™æ ·èƒ½æé«˜å®‰è£…é€Ÿåº¦</p>
<pre><code>$ echo &quot;ruby_url=https://cache.ruby-china.org/pub/ruby&quot; &gt; ~/.rvm/user/db
</code></pre><h2 id="Rubyç‰ˆæœ¬çš„å®‰è£…ä¸åˆ‡æ¢"><a href="#Rubyç‰ˆæœ¬çš„å®‰è£…ä¸åˆ‡æ¢" class="headerlink" title="Rubyç‰ˆæœ¬çš„å®‰è£…ä¸åˆ‡æ¢"></a>Rubyç‰ˆæœ¬çš„å®‰è£…ä¸åˆ‡æ¢</h2><p>åˆ—å‡ºå·²çŸ¥çš„ Ruby ç‰ˆæœ¬</p>
<pre><code>rvm list known
</code></pre><p>å®‰è£…ä¸€ä¸ª Ruby ç‰ˆæœ¬</p>
<pre><code>rvm install 2.2.0 --disable-binary
</code></pre><p>åˆ‡æ¢ Ruby ç‰ˆæœ¬</p>
<pre><code>rvm use 2.2.0
</code></pre><p>å¦‚æœæƒ³è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬ï¼Œè¿™æ ·ä¸€æ¥ä»¥åæ–°æ‰“å¼€çš„æ§åˆ¶å°é»˜è®¤çš„ Ruby å°±æ˜¯è¿™ä¸ªç‰ˆæœ¬</p>
<pre><code>rvm use 2.2.0 --default 
</code></pre><p>æŸ¥è¯¢å·²ç»å®‰è£…çš„ruby</p>
<pre><code>rvm list
</code></pre><p>å¸è½½ä¸€ä¸ªå·²å®‰è£…ç‰ˆæœ¬</p>
<pre><code>rvm remove 1.8.7
</code></pre><blockquote>
<p>å‚è€ƒï¼š<a href="https://ruby-china.org/wiki/rvm-guide" target="_blank" rel="external">https://ruby-china.org/wiki/rvm-guide</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/20/2017-04-20-iOSè‡ªåŠ¨æ‰“åŒ…/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/20/2017-04-20-iOSè‡ªåŠ¨æ‰“åŒ…/" itemprop="url">iOSè‡ªåŠ¨æ‰“åŒ…</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-20T00:00:00+08:00">
                2017-04-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>åˆ©ç”¨xcodeçš„å‘½ä»¤è¡Œå·¥å…· <code>xcdeobulid</code> è¿›è¡Œé¡¹ç›®çš„ç¼–è¯‘æ‰“åŒ…ï¼Œç”ŸæˆipaåŒ…ï¼Œå¹¶ä¸Šä¼ åˆ°fir</p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç°åœ¨ç½‘ä¸Šçš„è‡ªåŠ¨æ‰“åŒ…æ•™ç¨‹å‡ ä¹éƒ½è¿˜æ˜¯<code>xcodebuild + xcrun</code>çš„æ–¹å¼å…ˆç”Ÿæˆ<code>.app</code>åŒ… å†ç”Ÿæˆ<code>.ipa</code>åŒ…,ç»“æœå¼„äº†ä¸€æ•´å¤©ç¡¬æ˜¯æ²¡æˆåŠŸ~</p>
<p>åæ¥å‘ç°<code>PackageApplication is deprecated</code>ï¼Œæ‚²å‰§ã€‚ç„¶åæ‰‹åŠ¨å‹ç¼©çš„ <code>.ipa</code>åŒ…å› ä¸ºç­¾åé—®é¢˜æ— æ³•è£…åˆ°æ‰‹æœºä¸Šã€‚</p>
<p>åæ¥ç”¨äº†<code>archive + -exportArchive</code>ç»ˆäºå¯ä»¥äº†~</p>
<h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><h2 id="Xcodebuild"><a href="#Xcodebuild" class="headerlink" title="Xcodebuild"></a>Xcodebuild</h2><p><strong>xcodebuild</strong> çš„ä½¿ç”¨å¯ä»¥ç”¨ <code>man xcodebuild</code>æŸ¥çœ‹ã€‚</p>
<p>æŸ¥çœ‹é¡¹ç›®è¯¦æƒ…</p>
<pre><code># cd é¡¹ç›®ä¸»ç›®å½•
xcodebuild -list
</code></pre><p>è¾“å‡ºé¡¹ç›®çš„ä¿¡æ¯</p>
<pre><code>Information about project &quot;StackGameSceneKit&quot;:
    Targets:
        StackGameSceneKit
        StackGameSceneKitTests

    Build Configurations:
        Debug
        Release

    If no build configuration is specified and -scheme is not passed then &quot;Release&quot; is used.

    Schemes:
        StackGameSceneKit
</code></pre><p>è¦ç•™æ„ <code>Configurations</code>ï¼Œ<code>Schemes</code>è¿™ä¸¤ä¸ªå±æ€§ã€‚</p>
<h2 id="è‡ªåŠ¨æ‰“åŒ…æµç¨‹"><a href="#è‡ªåŠ¨æ‰“åŒ…æµç¨‹" class="headerlink" title="è‡ªåŠ¨æ‰“åŒ…æµç¨‹"></a>è‡ªåŠ¨æ‰“åŒ…æµç¨‹</h2><h3 id="ç”Ÿæˆ-archive"><a href="#ç”Ÿæˆ-archive" class="headerlink" title="ç”Ÿæˆ archive"></a>ç”Ÿæˆ archive</h3><p>ç”Ÿæˆarchiveçš„å‘½ä»¤æ˜¯ <code>xcodebuild archive</code> </p>
<pre><code>xcodebuild archive -workspace ${project_name}.xcworkspace \
               -scheme ${scheme_name} \
               -configuration ${build_configuration} \
               -archivePath ${export_archive_path}
</code></pre><ul>
<li><p>å‚æ•°ä¸€ï¼šé¡¹ç›®ç±»å‹ï¼Œï¼Œå¦‚æœæ˜¯æ··åˆé¡¹ç›® workspace å°±ç”¨ <code>-workspace</code>ï¼Œå¦‚æœæ˜¯ project å°±ç”¨ <code>-project</code></p>
</li>
<li><p><code>-scheme</code>ï¼šé¡¹ç›®åï¼Œä¸Šé¢<code>xcodebuild -list</code>ä¸­çš„ <code>Schemes</code></p>
</li>
<li><p><code>-configuration</code>ï¼šç¼–è¯‘ç±»å‹ï¼Œåœ¨<code>configuration</code>é€‰æ‹©, <code>Debug</code> æˆ–è€… <code>Release</code></p>
</li>
<li><p><code>-archivePath</code>ï¼šç”Ÿæˆ archive åŒ…çš„è·¯å¾„ï¼Œéœ€è¦ç²¾ç¡®åˆ° <code>xx/xx.archive</code></p>
</li>
</ul>
<p>é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ª<code>AdHocExportOptions.plist</code>æ–‡ä»¶</p>
<h3 id="å¯¼å‡ºipaåŒ…"><a href="#å¯¼å‡ºipaåŒ…" class="headerlink" title="å¯¼å‡ºipaåŒ…"></a>å¯¼å‡ºipaåŒ…</h3><p>å¯¼å‡º<code>.ipa</code>åŒ…ç»å¸¸ä¼šå‡ºç°é”™è¯¯ï¼Œ<del>åœ¨ruby2.4.0ç‰ˆæœ¬ä¸­ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥è¯·ä½¿ç”¨å…¶ä»–ç‰ˆæœ¬çš„ruby</del>,æœ€åˆçš„åŸå› æ˜¯ä½¿ç”¨äº† ruby2.4.0 è¿›è¡Œç¼–è¯‘æ—¶å‡ºç°çš„é”™è¯¯ã€‚</p>
<p>è§£å†³æ–¹æ³•æ˜¯ä½ç‰ˆæœ¬çš„ ruby è¿›è¡Œç¼–è¯‘ï¼Œå¦‚ä½¿ç”¨ç³»ç»Ÿç‰ˆæœ¬ï¼š<code>rvm use system</code>ã€‚åé¢å‡çº§macOSç³»ç»Ÿï¼ˆ10.12.5ï¼‰åå‘ç° ruby2.4.0 èƒ½æˆåŠŸ å¯¼å‡ºipaåŒ…äº†ã€‚</p>
<p>å¯¼å‡ºipaåŒ…ä½¿ç”¨å‘½ä»¤ï¼š<code>xcodebuild  -exportArchive</code></p>
<pre><code>xcodebuild  -exportArchive \
            -archivePath ${export_archive_path} \
            -exportPath ${export_ipa_path} \
            -exportOptionsPlist ${ExportOptionsPlistPath}
</code></pre><ul>
<li><code>archivePath</code>ï¼šä¸Šé¢ç”Ÿæˆ archive çš„è·¯å¾„</li>
<li><code>-exportPath</code>ï¼šå¯¼å‡º ipaåŒ… çš„è·¯å¾„</li>
<li><code>exportOptionsPlist</code>ï¼šå¯¼å‡º ipaåŒ… ç±»å‹ï¼Œéœ€è¦æŒ‡å®šæ ¼å¼çš„<code>plist</code>æ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯<code>AppStroe</code>ã€<code>AdHoc</code>ã€<code>Enterprise</code>,å¦‚ä¸‹å›¾</li>
</ul>
<p><img src="https://ww3.sinaimg.cn/large/006tNc79gy1ff1bcz534ij30g609uq48.jpg" alt=""></p>
<p>é€‰æ‹©è¿™ä¸‰ä¸ªç±»åˆ«éœ€è¦åˆ†åˆ«åˆ›å»ºä¸‰ä¸ª<code>plist</code>æ–‡ä»¶ï¼š</p>
<ul>
<li><p><code>AdHocExportOptionsPlist.plist</code></p>
<p>  <img src="https://ww3.sinaimg.cn/large/006tNc79gy1ff1bhmwvxfj30ax01pdfu.jpg" alt=""></p>
</li>
<li><p><code>AppStoreExportOptionsPlist.plist</code></p>
<p>  <img src="https://ww3.sinaimg.cn/large/006tNc79gy1ff1bijdlsgj30bh01st8q.jpg" alt=""></p>
</li>
<li><p><code>EnterpriseExportOptionsPlist.plist</code></p>
<p>  <img src="https://ww4.sinaimg.cn/large/006tNc79gy1ff1bishpk8j30be01sglm.jpg" alt=""></p>
</li>
</ul>
<h3 id="ä¸Šä¼ åˆ°-Fir"><a href="#ä¸Šä¼ åˆ°-Fir" class="headerlink" title="ä¸Šä¼ åˆ° Fir"></a>ä¸Šä¼ åˆ° Fir</h3><p>å°†é¡¹ç›®ä¸Šä¼ åˆ° <a href="https://fir.im" target="_blank" rel="external">Fir</a></p>
<p>ä¸‹è½½ <a href="https://github.com/FIRHQ/fir-cli/blob/master/doc/install.md" target="_blank" rel="external">fir å‘½ä»¤è¡Œå·¥å…·</a> </p>
<pre><code>gem install fir-cli
</code></pre><p>è·å– fir çš„ API Tokenï¼ˆå³ä¸Šè§’ï¼‰</p>
<p><img src="https://ww3.sinaimg.cn/large/006tNc79gy1ff28ccsqhyj304t07bwei.jpg" alt=""></p>
<p>ä¸Šä¼ </p>
<pre><code>fir publish &quot;ipa_Path&quot; -T &quot;firApiToken&quot;
</code></pre><h2 id="è‡ªåŠ¨æ‰“åŒ…è„šæœ¬"><a href="#è‡ªåŠ¨æ‰“åŒ…è„šæœ¬" class="headerlink" title="è‡ªåŠ¨æ‰“åŒ…è„šæœ¬"></a>è‡ªåŠ¨æ‰“åŒ…è„šæœ¬</h2><p><del>å†æ¬¡æé†’ï¼Œè¯·ä¸è¦ä½¿ç”¨ ruby 2.4.0 è¿è¡Œè¯¥è„šæœ¬ï¼</del>ï¼Œè‹¥åœ¨ ruby 2.4.0 ä¸‹ç¼–è¯‘å¤±è´¥ï¼Œè¯·åˆ‡æ¢ä½ç‰ˆæœ¬çš„rubyã€‚</p>
<p>åˆ‡æ¢å®Œæ¯•è®°å¾—é‡æ–°å®‰è£… fir å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<p>è„šæœ¬æˆ‘forkäº† <a href="https://github.com/jkpang/PPAutoPackageScript" target="_blank" rel="external">jkpang</a> çš„è„šæœ¬è¿›è¡Œä¿®æ”¹ï¼Œæ·»åŠ äº†è‡ªåŠ¨ä¸Šä¼ åˆ° fir çš„åŠŸèƒ½ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•åœ¨Githubä¸Šæœ‰è¯¦ç»†ä»‹ç»ã€‚</p>
<p>GitHubï¼š<a href="https://github.com/qiubaiying/iOSAutoArchiveScript" target="_blank" rel="external">https://github.com/qiubaiying/iOSAutoArchiveScript</a></p>
<h3 id="åˆ©ç”¨-è‡ªå®šä¹‰ç»ˆç«¯æŒ‡ä»¤-ç®€åŒ–æ‰“åŒ…è¿‡ç¨‹"><a href="#åˆ©ç”¨-è‡ªå®šä¹‰ç»ˆç«¯æŒ‡ä»¤-ç®€åŒ–æ‰“åŒ…è¿‡ç¨‹" class="headerlink" title="åˆ©ç”¨ è‡ªå®šä¹‰ç»ˆç«¯æŒ‡ä»¤ ç®€åŒ–æ‰“åŒ…è¿‡ç¨‹"></a>åˆ©ç”¨ è‡ªå®šä¹‰ç»ˆç«¯æŒ‡ä»¤ ç®€åŒ–æ‰“åŒ…è¿‡ç¨‹</h3><p>ä»¥zshä¸ºä¾‹:</p>
<pre><code>open ~/.zshrc
</code></pre><p>æ·»åŠ è‡ªå®šä¹‰å‘½ä»¤ cd + sh</p>
<pre><code>alias mybuild=&apos;cd é¡¹ç›®åœ°å€/iOSAutoArchiveScript/ &amp;&amp;  sh é¡¹ç›®åœ°å€/iOSAutoArchiveScript/iOSAutoArchiveScript.sh&apos;
</code></pre><p>è¿™æ ·æ‰“å¼€ç»ˆç«¯è¾“å…¥<code>mybuild</code>ï¼Œå°±å¯ä»¥è½»æ¾å®ç°ä¸€é”®æ‰“åŒ…ä¸Šä¼ äº†</p>
<blockquote>
<p>æœ¬æ–‡é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>, ä½œè€… <a href="http://github.com/qiubaiying" target="_blank" rel="external">@æŸè§(BY)</a> ,è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/13/2017-04-13-CocoaPods-å®‰è£…å’Œä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/13/2017-04-13-CocoaPods-å®‰è£…å’Œä½¿ç”¨/" itemprop="url">CocoaPods å®‰è£…å’Œä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-13T00:00:00+08:00">
                2017-04-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€è¿‘æ¢äº†æ–°æœºå™¨ï¼Œé‡æ–°æ­å»ºäº†å¼€å‘ç¯å¢ƒï¼Œå…¶ä¸­å½“ç„¶åŒ…æ‹¬ <strong>CocoaPods</strong>ã€‚</p>
<p>è£…å®Œé¡ºä¾¿æ›´æ–°ä¸‹ <strong>CocoaPods</strong> å®‰è£…æ–‡æ¡£ã€‚</p>
<h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><strong>CocoaPods</strong> æ˜¯ç”¨ ruby å®ç°çš„ï¼Œè¦æƒ³ä½¿ç”¨å®ƒé¦–å…ˆéœ€è¦æœ‰ ruby çš„ç¯å¢ƒã€‚</p>
<h4 id="å‡çº§ruby"><a href="#å‡çº§ruby" class="headerlink" title="å‡çº§ruby"></a>å‡çº§ruby</h4><pre><code>æŸ¥çœ‹rubyç‰ˆæœ¬ 
$ ruby -v

ruby 2.0.0p648 (2015-12-16 revision 53162) [universal.x86_64-darwin16]
</code></pre><p>CocoaPodséœ€è¦<strong>2.2.2</strong>ç‰ˆæœ¬åŠä»¥ä¸Šçš„ï¼Œæˆ‘ä»¬å…ˆå‡çº§rubyã€‚</p>
<p>ä½¿ç”¨ <strong>rvm</strong> å®‰è£… ruby</p>
<pre><code>curl -L get.rvm.io | bash -s stable 
source ~/.bashrc
source ~/.bash_profile
</code></pre><p>åˆ‡æ¢ ruby æº</p>
<p>ruby ä¸‹è½½æºä½¿ç”¨äºšé©¬é€Šçš„äº‘æœåŠ¡è¢«å¢™äº†ï¼Œåˆ‡æ¢å›½å†…çš„ <strong>ruby-chinaæº</strong> ï¼ˆ<a href="https://ruby.taobao.org/" target="_blank" rel="external">https://ruby.taobao.org/</a>å·²ç»åœæ­¢ç»´æŠ¤ï¼Œè¯¦æƒ…<a href="https://ruby.taobao.org/" target="_blank" rel="external">æŸ¥çœ‹å…¬å‘Š</a>ï¼‰ï¼š</p>
<pre><code>$ gem sources --add https://gems.ruby-china.org/ --remove https://rubygems.org/
$ gem sources -l
*** CURRENT SOURCES ***

https://gems.ruby-china.org
</code></pre><p>å®‰è£…å¹¶åˆ‡æ¢ ruby</p>
<blockquote>
<p>è¿™é‡Œä¸å»ºè®®å®‰è£…æœ€æ–°çš„ 2.4.0 ç‰ˆæœ¬ï¼Œå› ä¸ºæ¬¡ç‰ˆæœ¬çš„ rubyï¼Œåœ¨xcodebuild è‡ªåŠ¨æ‰“åŒ…æ—¶ï¼Œä¼šå‡ºç°é—®é¢˜ï¼ æ‰€ä»¥é€€ä¸€æ­¥ï¼Œå®‰è£… 2.3.3ç‰ˆæœ¬~</p>
</blockquote>
<pre><code>rvm install 2.3.3 --disable-binary
rvm use 2.3.3 --default
</code></pre><p>åˆ°æ­¤rubyå‡çº§å®Œæ¯•.</p>
<p>æœ‰å…³RVMçš„ä½¿ç”¨å¯ä»¥çœ‹è¿™ç¯‡ <a href="http://qiubaiying.github.io/2017/04/28/RVM-ä½¿ç”¨æŒ‡å—/" target="_blank" rel="external">RVM ä½¿ç”¨æŒ‡å—</a></p>
<h4 id="å®‰è£…CocoaPods"><a href="#å®‰è£…CocoaPods" class="headerlink" title="å®‰è£…CocoaPods"></a>å®‰è£…CocoaPods</h4><ol>
<li><p>å®‰è£…</p>
<pre><code>sudo gem install -n /usr/local/bin cocoapods
</code></pre></li>
<li><p>å‡çº§ç‰ˆæœ¬åº“</p>
<pre><code>pod setup
</code></pre><p> è¿™é‡Œéœ€è¦ä¸‹è½½ç‰ˆæœ¬åº“ï¼ˆéå¸¸åºå¤§ï¼‰ï¼Œéœ€è¦ç­‰å¾ˆä¹…</p>
<pre><code>Receiving objects:  72% (865815/1197150), 150.07 MiB | 190.00 KiB/s
</code></pre><p> æˆ–è€…ç›´æ¥ä»å…¶ä»–è£…æœ‰cocoapodçš„ç”µè„‘ä¸­æ‹·è´<code>~/.cocoapods</code>åˆ°ä½ çš„ç”¨æˆ·ç›®å½•ï¼Œç„¶åå† <code>pod setup</code>ä¼šèŠ‚çœä¸å°‘æ—¶é—´</p>
</li>
</ol>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h4 id="åˆ›å»º-podfile-æ–‡ä»¶"><a href="#åˆ›å»º-podfile-æ–‡ä»¶" class="headerlink" title="åˆ›å»º podfile æ–‡ä»¶"></a>åˆ›å»º <code>podfile</code> æ–‡ä»¶</h4><p>ç»å¤§å¤šæ•°äººåˆ›å»º<code>podfile</code>éƒ½æ˜¯ç”¨ <code>vim Podfile</code> å‘½ä»¤</p>
<p>å…¶å®pod å·²ç»æä¾›äº†åˆ›å»º <code>podfile</code> æ–‡ä»¶çš„å‘½ä»¤ï¼Œåœ¨å·¥ç¨‹ç›®å½•ä¸‹</p>
<pre><code>pod init
</code></pre><p>å°†ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>podfile</code> æ–‡ä»¶ï¼Œå¹¶ä¸”ä¸ºä½ å†™å¥½äº†æ ¼å¼ï¼Œç¨åšä¿®æ”¹å°±èƒ½ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"># Uncomment the next line to define a global platform for your project</div><div class="line"># platform :ios, &apos;9.0&apos;</div><div class="line"></div><div class="line">target &apos;projectName&apos; do</div><div class="line">  # Comment the next line if you&apos;re not using Swift and don&apos;t want to use dynamic frameworks</div><div class="line">  use_frameworks!</div><div class="line"></div><div class="line">  # Pods for projectName</div><div class="line"></div><div class="line">  target &apos;projectNameTests&apos; do</div><div class="line">    inherit! :search_paths</div><div class="line">    # Pods for testing</div><div class="line">  end</div><div class="line"></div><div class="line">  target &apos;projectNameUITests&apos; do</div><div class="line">    inherit! :search_paths</div><div class="line">    # Pods for testing</div><div class="line">  end</div><div class="line"></div><div class="line">end</div></pre></td></tr></table></figure>
<p>å…¶ä¸­çš„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">target &apos;projectNameTests&apos; do</div><div class="line">    inherit! :search_paths</div><div class="line">    # Pods for testing</div><div class="line">  end</div><div class="line"></div><div class="line">  target &apos;projectNameUITests&apos; do</div><div class="line">    inherit! :search_paths</div><div class="line">    # Pods for testing</div><div class="line">  end</div></pre></td></tr></table></figure>
<p>æ˜¯æŒ‡å®šåœ¨å•å…ƒæµ‹è¯•å’ŒUIæµ‹è¯•æ—¶å¯¼å…¥çš„æµ‹è¯•æ¡†æ¶ï¼Œè‹¥æ²¡æœ‰ä½¿ç”¨æµ‹è¯•æ¡†æ¶å¯ä»¥åˆ é™¤ã€‚</p>
<p>ä¿®æ”¹iOSç‰ˆæœ¬ï¼Œæ·»åŠ <code>Alamofire</code>åº“</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"># Uncomment the next line to define a global platform for your project</div><div class="line"># platform :ios, &apos;8.0&apos;</div><div class="line"></div><div class="line">target &apos;projectName&apos; do</div><div class="line">  # Comment the next line if you&apos;re not using Swift and don&apos;t want to use dynamic frameworks</div><div class="line">  use_frameworks!</div><div class="line"></div><div class="line">  # Pods for projectName</div><div class="line">  </div><div class="line">  pod &apos;Alamofire&apos;, &apos;~&gt; 4.4&apos;</div><div class="line"></div><div class="line">end</div></pre></td></tr></table></figure>
<h4 id="åŠ è½½ä»£ç åº“"><a href="#åŠ è½½ä»£ç åº“" class="headerlink" title="åŠ è½½ä»£ç åº“"></a>åŠ è½½ä»£ç åº“</h4><p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œç›´æ¥åœ¨æœ¬åœ°ç‰ˆæœ¬åº“ä¸­æŸ¥æ‰¾å¯¹åº”çš„ä»£ç åº“ä¿¡æ¯ï¼Œä¸å‡çº§ç‰ˆæœ¬åº“ï¼ŒèŠ‚çœæ—¶é—´</p>
<pre><code>pod install --verbose --no-repo-update
</code></pre><p>è‹¥æ‰¾ä¸åˆ°åº“ï¼Œå†ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤</p>
<pre><code>pod install
</code></pre><h4 id="ç‰ˆæœ¬å·"><a href="#ç‰ˆæœ¬å·" class="headerlink" title="ç‰ˆæœ¬å·"></a>ç‰ˆæœ¬å·</h4><p>å¯¹ç‰ˆæœ¬å·çš„æ“ä½œé™¤äº†æŒ‡å®šä¸ä¸æŒ‡å®šï¼Œä½ è¿˜å¯ä»¥åšå…¶ä»–æ“ä½œï¼š</p>
<ul>
<li><code>\&gt;0.1</code>  é«˜äº0.1çš„ä»»ä½•ç‰ˆæœ¬</li>
<li><code>\&gt;=0.1</code>  ç‰ˆæœ¬0.1å’Œä»»ä½•æ›´é«˜ç‰ˆæœ¬</li>
<li><code>&lt;0.1</code>  ä½äº0.1çš„ä»»ä½•ç‰ˆæœ¬</li>
<li><code>&lt;=0.1</code>  ç‰ˆæœ¬0.1å’Œä»»ä½•è¾ƒä½çš„ç‰ˆæœ¬</li>
<li><code>ã€œ&gt;0.1.2</code>  ç‰ˆæœ¬ 0.1.2çš„ç‰ˆæœ¬åˆ°0.2 ï¼Œä¸åŒ…æ‹¬0.2ã€‚<br>è¿™ä¸ªåŸºäºä½ æŒ‡å®šçš„ç‰ˆæœ¬å·çš„æœ€åä¸€ä¸ªéƒ¨åˆ†ã€‚è¿™ä¸ªä¾‹å­ç­‰æ•ˆäº&gt;= 0.1.2å¹¶ä¸” &lt;0.2.0ï¼Œå¹¶ä¸”å§‹ç»ˆæ˜¯ä½ æŒ‡å®šèŒƒå›´å†…çš„æœ€æ–°ç‰ˆæœ¬</li>
</ul>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>å…³äº<strong>CocoaPods</strong>çš„å®‰è£…å’Œä½¿ç”¨å°±è¿™æ ·ç®€å•çš„ä»‹ç»å®Œäº†ï¼Œè‡³äºæ›´å¤šä½¿ç”¨çš„æ–¹æ³•ï¼ˆå¹³æ—¶ä¹Ÿç”¨ä¸åˆ°~ï¼‰ä½ å¯ä»¥ç”¨ä¸‹é¢å‘½ä»¤æŸ¥çœ‹</p>
<pre><code>$ pod
</code></pre><p>è‹¥å¯¹ CocoaPods çš„<strong>ä¸ªäººä»“åº“</strong>æ„Ÿå…´è¶£ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹æˆ‘çš„è¿™ä¸¤ç¯‡åšå®¢</p>
<ul>
<li><a href="http://qiubaiying.top/2017/03/08/CocoaPods%E5%85%AC%E6%9C%89%E4%BB%93%E5%BA%93%E7%9A%84%E5%88%9B%E5%BB%BA/" target="_blank" rel="external">CocoaPodså…¬æœ‰ä»“åº“çš„åˆ›å»º</a></li>
<li><p><a href="http://qiubaiying.top/2017/03/10/CocoaPods%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E7%9A%84%E5%88%9B%E5%BB%BA/" target="_blank" rel="external">CocoaPodsç§æœ‰ä»“åº“çš„åˆ›å»º</a></p>
<blockquote>
<p>æœ¬æ–‡é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>, ä½œè€… <a href="http://github.com/qiubaiying" target="_blank" rel="external">@æŸè§(BY)</a> ,è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p>
</blockquote>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/07/2017-04-07-å¼ºåŒ–-Swift-ä¸­çš„-print/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/07/2017-04-07-å¼ºåŒ–-Swift-ä¸­çš„-print/" itemprop="url">å¼ºåŒ– swift ä¸­çš„ print</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-04-07T00:00:00+08:00">
                2017-04-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åœ¨ Swift ä¸­ï¼Œæœ€ç®€å•çš„è¾“å‡ºæ–¹æ³•å°±æ˜¯ä½¿ç”¨ <code>print()</code>ï¼Œåœ¨æˆ‘ä»¬å…³å¿ƒçš„åœ°æ–¹è¾“å‡ºå­—ç¬¦ä¸²å’Œå€¼ã€‚</p>
<p>å½“ç¨‹åºå˜å¾—éå¸¸å¤æ‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¾“å‡ºå¾ˆå¤šå†…å®¹ï¼Œè€Œæƒ³åœ¨å…¶ä¸­å¯»æ‰¾åˆ°æˆ‘ä»¬å¸Œæœ›çš„è¾“å‡ºå…¶å®å¹¶ä¸å®¹æ˜“ã€‚æˆ‘ä»¬å¾€å¾€éœ€è¦æ›´å¥½æ›´ç²¾ç¡®çš„è¾“å‡ºï¼Œè¿™åŒ…æ‹¬è¾“å‡ºè¿™ä¸ª log çš„æ–‡ä»¶ï¼Œè°ƒç”¨çš„è¡Œå·ä»¥åŠæ‰€å¤„çš„æ–¹æ³•åå­—ç­‰ç­‰ã€‚</p>
<p>åœ¨ Swift ä¸­ï¼Œç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬å‡†å¤‡äº†å‡ ä¸ªå¾ˆæœ‰ç”¨çš„ç¼–è¯‘ç¬¦å·ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p>
<table><thead><br><tr><br><th>ç¬¦å·</th><br><th>ç±»å‹</th><br><th>æè¿°</th><br></tr><br></thead><tbody><br><tr><br><td>#file</td><br><td>String</td><br><td>åŒ…å«è¿™ä¸ªç¬¦å·çš„æ–‡ä»¶çš„è·¯å¾„</td><br></tr><br><tr><br><td>#line</td><br><td>Int</td><br><td>ç¬¦å·å‡ºç°å¤„çš„è¡Œå·</td><br></tr><br><tr><br><td>#column</td><br><td>Int</td><br><td>ç¬¦å·å‡ºç°å¤„çš„åˆ—</td><br></tr><br><tr><br><td>#function</td><br><td>String</td><br><td>åŒ…å«è¿™ä¸ªç¬¦å·çš„æ–¹æ³•åå­—</td><br></tr><br></tbody></table>


<p>æœ‰äº†ä¸Šé¢çš„è¿™äº›ç¼–è¯‘ç¬¦å·ï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªè¾“å‡ºå‡½æ•°ï¼š<code>printm</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">printm</span><span class="params">(items: Any..., filename: String = #file, function: String = #function, line: Int = #line)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"[<span class="subst">\((filename <span class="keyword">as</span> NSString)</span>.lastPathComponent) <span class="subst">\(line)</span> <span class="subst">\(function)</span>]\n"</span>,items)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å› ä¸ºè¾“å‡ºæ˜¯ä¸€ä¸ªå¾ˆæ¶ˆè€—æ€§èƒ½çš„æ“ä½œï¼Œæ‰€ä»¥åœ¨releassç¯å¢ƒä¸‹éœ€è¦å°†è¾“å‡ºå‡½æ•°å»æ‰ï¼Œå°†ä¸Šé¢çš„å‡½æ•°æ¢æˆï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">#<span class="keyword">if</span> <span class="type">DEBUG</span></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">printm</span><span class="params">(items: Any..., filename: String = #file, function: String = #function, line: Int = #line)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"[<span class="subst">\((filename <span class="keyword">as</span> NSString)</span>.lastPathComponent) <span class="subst">\(line)</span> <span class="subst">\(function)</span>]\n"</span>,items)</div><div class="line">&#125;</div><div class="line"></div><div class="line">#<span class="keyword">else</span></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">printm</span><span class="params">(items: Any..., filename: String = #file, function: String = #function, line: Int = #line)</span></span> &#123; &#125;</div><div class="line"></div><div class="line">#endif</div></pre></td></tr></table></figure>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ:"></a>å‚è€ƒ:</h4><ul>
<li><a href="http://swifter.tips/log/" target="_blank" rel="external">ã€ŠLOG è¾“å‡ºã€‹</a> - ç‹å· (@ONEVCAT)</li>
</ul>
<blockquote>
<p>æœ¬æ–‡é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>, ä½œè€… <a href="http://github.com/qiubaiying" target="_blank" rel="external">@æŸè§(BY)</a> ,è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/30/2017-03-30-Swift 3.1-çš„æ–°å˜åŒ–ã€Œè¯‘ã€/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/30/2017-03-30-Swift 3.1-çš„æ–°å˜åŒ–ã€Œè¯‘ã€/" itemprop="url">Swift 3.1 çš„æ–°å˜åŒ–ã€Œè¯‘ã€</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-03-30T00:00:00+08:00">
                2017-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://koenig-media.raywenderlich.com/uploads/2017/03/WhatsNewSwift3.1-feature-1-250x250.png" alt=""></p>
<p>Xcode 8.3 å’Œ Swift 3.1 ç°åœ¨å·²ç»å‘å¸ƒäº†(3/28)ï¼</p>
<p>å¯ä»¥é€šè¿‡ <a href="https://itunes.apple.com/us/app/xcode/id497799835?ls=1&amp;mt=12#" target="_blank" rel="external">AppStore</a> æˆ– <a href="https://developer.apple.com/download/more/" target="_blank" rel="external">Apple Developer</a> è¿›è¡Œä¸‹è½½</p>
<p><img src="https://ww2.sinaimg.cn/large/006tNbRwgy1fe2it3xwt6j30s50g3mya.jpg" alt=""></p>
<p>Xcode 8.3 ä¼˜åŒ–äº† Objective-C ä¸ Swift æ··ç¼–é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦.</p>
<p>Swift 3.1 ç‰ˆæœ¬åŒ…å«ä¸€äº›æœŸå¾…å·²ä¹…çš„ <a href="https://github.com/apple/swift-package-manager" target="_blank" rel="external">Swift package manager</a> åŠŸèƒ½å’Œè¯­æ³•æœ¬èº«çš„æ”¹è¿›ã€‚</p>
<p>å¦‚æœæ‚¨æ²¡æœ‰å¯†åˆ‡å…³æ³¨ <a href="https://github.com/apple/swift-evolution" target="_blank" rel="external">Swift Evolution</a> è¿›ç¨‹ï¼Œè¯·ç»§ç»­é˜…è¯» - æœ¬æ–‡éå¸¸é€‚åˆæ‚¨ï¼</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å¼ºè°ƒSwift 3.1ä¸­æœ€é‡è¦çš„å˜åŒ–ï¼Œè¿™å°†å¯¹æ‚¨çš„ä»£ç äº§ç”Ÿé‡å¤§å½±å“ã€‚æˆ‘ä»¬æ¥å§ï¼ğŸ˜ƒ</p>
<h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>Swift 3.1ä¸Swift 3.0æºä»£ç å…¼å®¹ï¼Œå› æ­¤å¦‚æœæ‚¨å·²ç»ä½¿ç”¨Xcode ä¸­çš„ <code>Edit \ Convert \ To Current Swift Syntax ...</code> å°†é¡¹ç›®è¿ç§»åˆ°Swift 3.0ï¼Œæ–°åŠŸèƒ½å°†ä¸ä¼šç ´åæ‚¨çš„ä»£ç ã€‚ä¸è¿‡ï¼Œè‹¹æœå·²ç»åœ¨Xcode 8.3ä¸­æ”¯æŒSwift 2.3ã€‚æ‰€ä»¥å¦‚æœä½ è¿˜æ²¡æœ‰ä»Swift 2.3è¿ç§»ï¼Œç°åœ¨æ˜¯æ—¶å€™è¿™æ ·åšäº†ï¼</p>
<p>åœ¨ä¸‹é¢çš„éƒ¨åˆ†ï¼Œæ‚¨ä¼šçœ‹åˆ°é“¾æ¥çš„æ ‡ç­¾ï¼Œå¦‚<code>[SE-0001]</code>ã€‚è¿™äº›æ˜¯ <a href="https://apple.github.io/swift-evolution/" target="_blank" rel="external">Swift Evolution</a> ææ¡ˆå·ç ã€‚æˆ‘å·²ç»åˆ—å‡ºäº†æ¯ä¸ªææ¡ˆçš„é“¾æ¥ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥å‘ç°æ¯ä¸ªç‰¹å®šæ›´æ”¹çš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ã€‚æˆ‘å»ºè®®æ‚¨å°è¯•åœ¨Playgroundä¸ŠéªŒè¯æ–°çš„åŠŸèƒ½ï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£æ‰€æœ‰æ›´æ”¹çš„å†…å®¹ã€‚</p>
<blockquote>
<p>Note:å¦‚æœä½ æƒ³äº†è§£ swift 3.0 ä¸­çš„æ–°åŠŸèƒ½ï¼Œå¯ä»¥çœ‹<a href="https://www.raywenderlich.com/135655/whats-new-swift-3" target="_blank" rel="external">è¿™ç¯‡æ–‡ç« </a>ã€‚</p>
</blockquote>
<h2 id="è¯­æ³•æ”¹è¿›"><a href="#è¯­æ³•æ”¹è¿›" class="headerlink" title="è¯­æ³•æ”¹è¿›"></a>è¯­æ³•æ”¹è¿›</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªç‰ˆæœ¬ä¸­çš„è¯­æ³•æ”¹è¿›ï¼ŒåŒ…æ‹¬å…³äºæ•°å€¼ç±»å‹çš„<code>å¯å¤±è´¥æ„é€ å™¨</code>ï¼ˆ<code>Failable Initializers</code>ï¼‰ï¼Œæ–°çš„åºåˆ—å‡½æ•°ç­‰ç­‰ã€‚</p>
<h4 id="å¯å¤±è´¥çš„æ•°å€¼è½¬æ¢æ„é€ å™¨ï¼ˆFailable-Numeric-Conversion-Initializersï¼‰"><a href="#å¯å¤±è´¥çš„æ•°å€¼è½¬æ¢æ„é€ å™¨ï¼ˆFailable-Numeric-Conversion-Initializersï¼‰" class="headerlink" title="å¯å¤±è´¥çš„æ•°å€¼è½¬æ¢æ„é€ å™¨ï¼ˆFailable Numeric Conversion Initializersï¼‰"></a>å¯å¤±è´¥çš„æ•°å€¼è½¬æ¢æ„é€ å™¨ï¼ˆFailable Numeric Conversion Initializersï¼‰</h4><p>Swift 3.1 ä¸ºæ‰€æœ‰æ•°å€¼ç±»å‹ <code>(Int, Int8, Int16, Int32, Int64, UInt, UInt8, UInt16, UInt32, UInt64, Float, Float80, Double)</code> æ·»åŠ äº†<a href="https://www.swiftmi.com/topic/121.html" target="_blank" rel="external">å¯å¤±è´¥æ„é€ å™¨</a>ã€‚</p>
<p>è¿™ä¸ªåŠŸèƒ½éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œä»¥å®‰å…¨ã€å¯æ¢å¤çš„æ–¹å¼å¤„ç†å¤–æºæ¾æ•£ç±»å‹æ•°æ®çš„è½¬æ¢ï¼Œä¸‹é¢æ¥çœ‹ Student çš„ JSON æ•°ç»„çš„å¤„ç†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">  <span class="keyword">let</span> name: <span class="type">String</span></div><div class="line">  <span class="keyword">let</span> grade: <span class="type">Int</span></div><div class="line"> </div><div class="line">  <span class="keyword">init</span>?(json: [<span class="type">String</span>: <span class="type">Any</span>]) &#123;</div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> name = json[<span class="string">"name"</span>] <span class="keyword">as</span>? <span class="type">String</span>,</div><div class="line">          <span class="keyword">let</span> gradeString = json[<span class="string">"grade"</span>] <span class="keyword">as</span>? <span class="type">String</span>,</div><div class="line">          <span class="keyword">let</span> gradeDouble = <span class="type">Double</span>(gradeString),</div><div class="line">          <span class="keyword">let</span> grade = <span class="type">Int</span>(exactly: gradeDouble)  <span class="comment">// &lt;-- 3.1 çš„æ”¹åŠ¨åœ¨è¿™</span></div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">self</span>.name = name</div><div class="line">    <span class="keyword">self</span>.grade = grade</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeStudents</span><span class="params">(with data: Data)</span></span> -&gt; [<span class="type">Student</span>] &#123;</div><div class="line">  <span class="keyword">guard</span> <span class="keyword">let</span> json = <span class="keyword">try</span>? <span class="type">JSONSerialization</span>.jsonObject(with: data, options: .allowFragments),</div><div class="line">        <span class="keyword">let</span> jsonArray = json <span class="keyword">as</span>? [[<span class="type">String</span>: <span class="type">Any</span>]] <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">return</span> []</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> jsonArray.flatMap(<span class="type">Student</span>.<span class="keyword">init</span>)</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">let</span> rawStudents = <span class="string">"[&#123;\"name\":\"Ray\", \"grade\":\"5.0\"&#125;, &#123;\"name\":\"Matt\", \"grade\":\"6\"&#125;,</span></div><div class="line"><span class="string">                    &#123;\"name\":\"Chris\", \"grade\":\"6.33\"&#125;, &#123;\"name\":\"Cosmin\", \"grade\":\"7\"&#125;, </span></div><div class="line"><span class="string">                    &#123;\"name\":\"Steven\", \"grade\":\"7.5\"&#125;]"</span></div><div class="line"><span class="keyword">let</span> data = rawStudents.data(using: .utf8)!</div><div class="line"><span class="keyword">let</span> students = makeStudents(with: data)</div><div class="line"><span class="built_in">dump</span>(students) <span class="comment">// [(name: "Ray", grade: 5), (name: "Matt", grade: 6), (name: "Cosmin", grade: 7)]</span></div></pre></td></tr></table></figure>
<p>åœ¨ <code>Student</code> ç±»ä¸­ä½¿ç”¨äº†ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨å°† <code>grade</code> å±æ€§ä» <code>Double</code> è½¬å˜ä¸º <code>Int</code>ï¼Œåƒè¿™æ ·</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> grade = <span class="type">Int</span>(exactly: gradeDouble)</div></pre></td></tr></table></figure>
<p>å¦‚æœ<code>gradeDouble</code>ä¸æ˜¯æ•´æ•°ï¼Œä¾‹å¦‚6.33ï¼Œå®ƒå°†å¤±è´¥ã€‚å¦‚æœå®ƒå¯ä»¥ç”¨ä¸€ä¸ªæ­£ç¡®çš„è¡¨ç¤ºIntï¼Œä¾‹å¦‚6.0ï¼Œå®ƒå°†æˆåŠŸã€‚</p>
<blockquote>
<p>Noteï¼šè™½ç„¶<code>throwing initializers</code> å¯ä»¥ç”¨æ¥æ›¿ä»£ <code>failable initializers</code>ã€‚ä½†æ˜¯ä½¿ç”¨ <code>failable initializers</code> ä¼šæ›´å¥½ï¼Œæ›´ç¬¦åˆäººçš„æ€ç»´ã€‚</p>
</blockquote>
<h5 id="æ–°çš„åºåˆ—å‡½æ•°ï¼ˆSequence-Functionsï¼‰"><a href="#æ–°çš„åºåˆ—å‡½æ•°ï¼ˆSequence-Functionsï¼‰" class="headerlink" title="æ–°çš„åºåˆ—å‡½æ•°ï¼ˆSequence Functionsï¼‰"></a>æ–°çš„åºåˆ—å‡½æ•°ï¼ˆSequence Functionsï¼‰</h5><p>swift3.1æ·»åŠ äº†ä¸¤ä¸ªæ–°çš„æ ‡å‡†åº“å‡½æ•°åœ¨ <code>Sequence</code> åè®®ä¸­ï¼š<code>prefix(while:)``å’Œprefix(while:)</code><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0045-scan-takewhile-dropwhile.md" target="_blank" rel="external">[SE-0045]</a>ã€‚</p>
<p>æ„é€ ä¸€ä¸ª<a href="https://en.wikipedia.org/wiki/Fibonacci_number" target="_blank" rel="external">æ–æ³¢çº³å¥‘</a>æ— é™åºåˆ—ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> fibonacci = sequence(state: (<span class="number">0</span>, <span class="number">1</span>)) &#123;</div><div class="line">  (state: <span class="keyword">inout</span> (<span class="type">Int</span>, <span class="type">Int</span>)) -&gt; <span class="type">Int</span>? <span class="keyword">in</span></div><div class="line">  <span class="keyword">defer</span> &#123;state = (state.<span class="number">1</span>, state.<span class="number">0</span> + state.<span class="number">1</span>)&#125;</div><div class="line">  <span class="keyword">return</span> state.<span class="number">0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨Swift 3.0ä¸­ï¼Œæ‚¨åªéœ€æŒ‡å®š<code>è¿­ä»£æ¬¡æ•°</code>å³å¯éå†fibonacciåºåˆ—ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 3.0</span></div><div class="line"><span class="keyword">for</span> number <span class="keyword">in</span> fibonacci.<span class="keyword">prefix</span>(<span class="number">10</span>) &#123;</div><div class="line">  <span class="built_in">print</span>(number)  <span class="comment">// 0 1 1 2 3 5 8 13 21 34</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨swift 3.1ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>prefix(while:)</code>å’Œ<code>drop(while:)</code>è·å¾—ç¬¦åˆæ¡ä»¶åœ¨ä¸¤ä¸ªç»™å®šå€¼ä¹‹é—´çš„åºåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 3.1</span></div><div class="line"><span class="keyword">let</span> interval = fibonacci.<span class="keyword">prefix</span>(<span class="keyword">while</span>: &#123;$<span class="number">0</span> &lt; <span class="number">1000</span>&#125;).drop(<span class="keyword">while</span>: &#123;$<span class="number">0</span> &lt; <span class="number">100</span>&#125;)</div><div class="line"><span class="keyword">for</span> element <span class="keyword">in</span> interval &#123;</div><div class="line">  <span class="built_in">print</span>(element) <span class="comment">// 144 233 377 610 987</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>prefix(while:)</code>è¿”å›æ»¡è¶³æŸä¸ªè°“è¯çš„æœ€é•¿å­åºåˆ—ã€‚å®ƒä»åºåˆ—çš„å¼€å¤´å¼€å§‹ï¼Œå¹¶åœåœ¨ç»™å®šé—­åŒ…è¿”å›falseçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸Šã€‚</p>
<p><code>drop(while:)</code> ç›¸åï¼šå®ƒè¿”å›ä»ç»™å®šå…³é—­è¿”å›falseçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹çš„å­åºåˆ—ï¼Œå¹¶åœ¨åºåˆ—ç»“å°¾å®Œæˆã€‚</p>
<blockquote>
<p>Note:è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…çš„å†™æ³•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">let</span> interval = fibonacci.<span class="keyword">prefix</span>&#123;$<span class="number">0</span> &lt; <span class="number">1000</span>&#125;.drop&#123;$<span class="number">0</span> &lt; <span class="number">100</span>&#125;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</blockquote>
<h2 id="Concrete-Constrained-Extensionsï¼ˆå§‘ä¸”ç¿»è¯‘ä¸ºç±»çš„çº¦æŸæ‰©å±•å§ï¼‰"><a href="#Concrete-Constrained-Extensionsï¼ˆå§‘ä¸”ç¿»è¯‘ä¸ºç±»çš„çº¦æŸæ‰©å±•å§ï¼‰" class="headerlink" title="Concrete Constrained Extensionsï¼ˆå§‘ä¸”ç¿»è¯‘ä¸ºç±»çš„çº¦æŸæ‰©å±•å§ï¼‰"></a>Concrete Constrained Extensionsï¼ˆå§‘ä¸”ç¿»è¯‘ä¸ºç±»çš„çº¦æŸæ‰©å±•å§ï¼‰</h2><p>Swift 3.1å…è®¸æ‚¨æ‰©å±•å…·æœ‰ç±»å‹çº¦æŸçš„é€šç”¨ç±»å‹ã€‚ä»¥å‰ï¼Œä½ ä¸èƒ½åƒè¿™æ ·æ‰©å±•ç±»å‹ï¼Œå› ä¸ºçº¦æŸå¿…é¡»æ˜¯ä¸€ä¸ªåè®®ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒRuby on Railsæä¾›äº†ä¸€ç§<code>isBlank</code>æ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„éå¸¸æœ‰ç”¨çš„æ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯åœ¨Swift 3.0ä¸­ç”¨ <code>String</code> ç±»å‹çš„æ‰©å±•å®ç°è¿™ä¸ª<strong>è®¡ç®—å‹å±æ€§</strong>ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 3.0</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> isBlank: <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> trimmingCharacters(<span class="keyword">in</span>: .whitespaces).isEmpty</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">let</span> abc = <span class="string">" "</span></div><div class="line"><span class="keyword">let</span> def = <span class="string">"x"</span></div><div class="line"> </div><div class="line">abc.isBlank <span class="comment">// true</span></div><div class="line">def.isBlank <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>å¦‚æœä½ å¸Œæœ›<code>isBlank</code>è®¡ç®—å‹å±æ€§ä¸ºä¸€ä¸ªå¯é€‰å€¼æ‰€ç”¨ï¼Œåœ¨swift 3.0ä¸­ï¼Œä½ å°†è¦è¿™æ ·åš</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 3.0</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">StringProvider</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> string: <span class="type">String</span> &#123;<span class="keyword">get</span>&#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span>: <span class="title">StringProvider</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> string: <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Optional</span> <span class="title">where</span> <span class="title">Wrapped</span>: <span class="title">StringProvider</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> isBlank: <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>?.string.isBlank ?? <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">let</span> foo: <span class="type">String</span>? = <span class="literal">nil</span></div><div class="line"><span class="keyword">let</span> bar: <span class="type">String</span>? = <span class="string">"  "</span></div><div class="line"><span class="keyword">let</span> baz: <span class="type">String</span>? = <span class="string">"x"</span></div><div class="line"> </div><div class="line">foo.isBlank <span class="comment">// true</span></div><div class="line">bar.isBlank <span class="comment">// true</span></div><div class="line">baz.isBlank <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>è¿™åˆ›å»ºäº†ä¸€ä¸ªé‡‡ç”¨ <code>String</code> çš„ <code>StringProvider</code> åè®®è€Œåœ¨ä½ ä½¿ç”¨StringProvideræ‰©å±•å¯é€‰çš„ wrapped ç±»å‹æ—¶,æ·»åŠ isBlankæ–¹æ³•ã€‚</p>
<p>Swift 3.1ä¸­ï¼Œç”¨æ¥æ›¿ä»£åè®®æ–¹æ³•ï¼Œæ‰©å±•å…·ä½“ç±»å‹çš„æ–¹æ³•åƒè¿™æ ·ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 3.1</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Optional</span> <span class="title">where</span> <span class="title">Wrapped</span> == <span class="title">String</span> </span>&#123;</div><div class="line">  <span class="keyword">var</span> isBlank: <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>?.isBlank ?? <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™å°±ç”¨æ›´å°‘çš„ä»£ç å®ç°äº†å’ŒåŸå…ˆç›¸åŒçš„åŠŸèƒ½~</p>
<h2 id="æ³›å‹åµŒå¥—ï¼ˆNested-Genericsï¼‰"><a href="#æ³›å‹åµŒå¥—ï¼ˆNested-Genericsï¼‰" class="headerlink" title="æ³›å‹åµŒå¥—ï¼ˆNested Genericsï¼‰"></a>æ³›å‹åµŒå¥—ï¼ˆNested Genericsï¼‰</h2><p>Swift 3.1å…è®¸æ‚¨å°†åµŒå¥—ç±»å‹ä¸æ³›å‹æ··åˆã€‚ä½œä¸ºä¸€ä¸ªç»ƒä¹ ï¼Œè€ƒè™‘è¿™ä¸ªï¼ˆä¸æ˜¯å¤ªç–¯ç‹‚ï¼‰çš„ä¾‹å­ã€‚æ¯å½“æŸä¸ªå›¢é˜Ÿé¢†å¯¼raywenderlich.comæƒ³åœ¨åšå®¢ä¸Šå‘å¸ƒä¸€ç¯‡æ–‡ç« æ—¶ï¼Œä»–ä¼šåˆ†é…ä¸€æ‰¹ä¸“é—¨çš„å¼€å‘äººå‘˜æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œä»¥æ»¡è¶³ç½‘ç«™çš„é«˜è´¨é‡æ ‡å‡†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Team</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">TeamType</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> swift</div><div class="line">    <span class="keyword">case</span> iOS</div><div class="line">    <span class="keyword">case</span> macOS</div><div class="line">  &#125;</div><div class="line"> </div><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">BlogPost</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">BlogPostType</span> </span>&#123;</div><div class="line">      <span class="keyword">case</span> tutorial</div><div class="line">      <span class="keyword">case</span> article</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    <span class="keyword">let</span> title: <span class="type">T</span></div><div class="line">    <span class="keyword">let</span> type: <span class="type">BlogPostType</span></div><div class="line">    <span class="keyword">let</span> category: <span class="type">TeamType</span></div><div class="line">    <span class="keyword">let</span> publishDate: <span class="type">Date</span></div><div class="line"> </div><div class="line">    <span class="keyword">init</span>(title: <span class="type">T</span>, type: <span class="type">BlogPostType</span>, category: <span class="type">TeamType</span>, publishDate: <span class="type">Date</span>) &#123;</div><div class="line">      <span class="keyword">self</span>.title = title</div><div class="line">      <span class="keyword">self</span>.type = type</div><div class="line">      <span class="keyword">self</span>.category = category</div><div class="line">      <span class="keyword">self</span>.publishDate = publishDate</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"> </div><div class="line">  <span class="keyword">let</span> type: <span class="type">TeamType</span></div><div class="line">  <span class="keyword">let</span> author: <span class="type">T</span></div><div class="line">  <span class="keyword">let</span> teamLead: <span class="type">T</span></div><div class="line">  <span class="keyword">let</span> blogPost: <span class="type">BlogPost</span>&lt;<span class="type">T</span>&gt;</div><div class="line"> </div><div class="line">  <span class="keyword">init</span>(type: <span class="type">TeamType</span>, author: <span class="type">T</span>, teamLead: <span class="type">T</span>, blogPost: <span class="type">BlogPost</span>&lt;<span class="type">T</span>&gt;) &#123;</div><div class="line">    <span class="keyword">self</span>.type = type</div><div class="line">    <span class="keyword">self</span>.author = author</div><div class="line">    <span class="keyword">self</span>.teamLead = teamLead</div><div class="line">    <span class="keyword">self</span>.blogPost = blogPost</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å°†<code>BlogPost</code>å†…éƒ¨ç±»åµŒå¥—åœ¨å…¶å¯¹åº”çš„<code>Team</code>å¤–éƒ¨ç±»ä¸­ï¼Œå¹¶ä½¿ä¸¤ä¸ªç±»éƒ½é€šç”¨ã€‚è¿™æ˜¯å›¢é˜Ÿå¦‚ä½•å¯»æ‰¾æˆ‘åœ¨ç½‘ç«™ä¸Šå‘å¸ƒçš„æ•™ç¨‹å’Œæ–‡ç« ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="type">Team</span>(type: .swift, author: <span class="string">"Cosmin PupÄƒzÄƒ"</span>, teamLead: <span class="string">"Ray Fix"</span>, </div><div class="line">     blogPost: <span class="type">Team</span>.<span class="type">BlogPost</span>(title: <span class="string">"Pattern Matching"</span>, type: .tutorial, </div><div class="line">     category: .swift, publishDate: <span class="type">Date</span>()))</div><div class="line"> </div><div class="line"><span class="type">Team</span>(type: .swift, author: <span class="string">"Cosmin PupÄƒzÄƒ"</span>, teamLead: <span class="string">"Ray Fix"</span>, </div><div class="line">     blogPost: <span class="type">Team</span>.<span class="type">BlogPost</span>(title: <span class="string">"What's New in Swift 3.1?"</span>, type: .article, </div><div class="line">     category: .swift, publishDate: <span class="type">Date</span>()))</div></pre></td></tr></table></figure>
<p>ä½†å®é™…ä¸Šï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ç®€åŒ–è¯¥ä»£ç ã€‚å¦‚æœåµŒå¥—çš„å†…éƒ¨ç±»å‹ä½¿ç”¨é€šç”¨å¤–éƒ¨ç±»å‹ï¼Œé‚£ä¹ˆå®ƒé»˜è®¤ç»§æ‰¿çˆ¶ç±»çš„ç±»å‹ã€‚å› æ­¤ï¼Œæ‚¨ä¸éœ€è¦å¦‚æ­¤å£°æ˜ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Team</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">  <span class="comment">// original code </span></div><div class="line"> </div><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">BlogPost</span> </span>&#123;</div><div class="line">    <span class="comment">// original code</span></div><div class="line">  &#125;  </div><div class="line"> </div><div class="line">  <span class="comment">// original code </span></div><div class="line">  <span class="keyword">let</span> blogPost: <span class="type">BlogPost</span></div><div class="line"> </div><div class="line">  <span class="keyword">init</span>(type: <span class="type">TeamType</span>, author: <span class="type">T</span>, teamLead: <span class="type">T</span>, blogPost: <span class="type">BlogPost</span>) &#123;</div><div class="line">    <span class="comment">// original code   </span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>Noteï¼šå¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºSwiftä¸­çš„<strong>æ³›å‹</strong>ï¼Œè¯·é˜…è¯»æˆ‘ä»¬æœ€è¿‘æ›´æ–°çš„<a href="https://www.raywenderlich.com/154371/swift-generics-tutorial-getting-started" target="_blank" rel="external">Swiftæ³›å‹å…¥é—¨çš„æ•™ç¨‹</a>ã€‚</p>
</blockquote>
<h2 id="Swiftç‰ˆæœ¬çš„å¯ç”¨æ€§"><a href="#Swiftç‰ˆæœ¬çš„å¯ç”¨æ€§" class="headerlink" title="Swiftç‰ˆæœ¬çš„å¯ç”¨æ€§"></a>Swiftç‰ˆæœ¬çš„å¯ç”¨æ€§</h2><p>æ‚¨å¯ä»¥ä½¿ç”¨<strong>#if swift(&gt;= N)</strong> <code>é™æ€æ„é€ </code>æ¥æ£€æŸ¥ç‰¹å®šçš„Swiftç‰ˆæœ¬ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 3.0</span></div><div class="line">#<span class="keyword">if</span> swift(&gt;=<span class="number">3.1</span>)</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">intVersion</span><span class="params">(number: Double)</span></span> -&gt; <span class="type">Int</span>? &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Int</span>(exactly: number)</div><div class="line">  &#125;</div><div class="line">#elseif swift(&gt;=<span class="number">3.0</span>)</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">intVersion</span><span class="params">(number: Double)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Int</span>(number)</div><div class="line">  &#125;</div><div class="line">#endif</div></pre></td></tr></table></figure>
<p>ç„¶è€Œï¼Œå½“ä½¿ç”¨Swiftæ ‡å‡†åº“æ—¶ï¼Œè¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªä¸»è¦ç¼ºç‚¹ã€‚å®ƒéœ€è¦ä¸ºæ¯ä¸ªå—æ”¯æŒçš„æ—§è¯­è¨€ç‰ˆæœ¬ç¼–è¯‘æ ‡å‡†åº“ã€‚è¿™æ˜¯å› ä¸ºå½“æ‚¨ä»¥å‘åå…¼å®¹æ¨¡å¼è¿è¡ŒSwiftç¼–è¯‘å™¨æ—¶ï¼Œä¾‹å¦‚æ‚¨è¦ä½¿ç”¨Swift 3.0è¡Œä¸ºï¼Œåˆ™éœ€è¦ä½¿ç”¨é’ˆå¯¹è¯¥ç‰¹å®šå…¼å®¹æ€§ç‰ˆæœ¬ç¼–è¯‘çš„æ ‡å‡†åº“ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨ä½¿ç”¨ç‰ˆæœ¬3.1æ¨¡å¼ç¼–è¯‘çš„ï¼Œé‚£ä¹ˆæ‚¨æ ¹æœ¬å°±æ²¡æœ‰æ­£ç¡®çš„ä»£ç </p>
<p>å› æ­¤ï¼Œ@availableé™¤äº†ç°æœ‰å¹³å°ç‰ˆæœ¬ <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0141-available-by-swift-version.md" target="_blank" rel="external">[SE-0141]</a> ä¹‹å¤–ï¼ŒSwift 3.1æ‰©å±•äº†è¯¥å±æ€§ä»¥æ”¯æŒæŒ‡å®šSwiftç‰ˆæœ¬å·ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 3.1</span></div><div class="line"> </div><div class="line"><span class="meta">@available</span>(swift <span class="number">3.1</span>)</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">intVersion</span><span class="params">(number: Double)</span></span> -&gt; <span class="type">Int</span>? &#123;</div><div class="line">  <span class="keyword">return</span> <span class="type">Int</span>(exactly: number)</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="meta">@available</span>(swift, introduced: <span class="number">3.0</span>, obsoleted: <span class="number">3.1</span>)</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">intVersion</span><span class="params">(number: Double)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="type">Int</span>(number)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–°åŠŸèƒ½æä¾›äº†ä¸<code>intVersionSwift</code>ç‰ˆæœ¬æœ‰å…³çš„æ–¹æ³•ç›¸åŒçš„è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œå®ƒåªå…è®¸åƒæ ‡å‡†åº“è¿™æ ·çš„åº“è¢«ç¼–è¯‘ä¸€æ¬¡ã€‚ç¼–è¯‘å™¨ç„¶åç®€å•åœ°é€‰æ‹©å¯ç”¨äºæ‰€é€‰æ‹©çš„ç»™å®šå…¼å®¹æ€§ç‰ˆæœ¬çš„åŠŸèƒ½ã€‚</p>
<blockquote>
<p>Noteï¼šæ³¨æ„ï¼šå¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºSwift çš„<code>å¯ç”¨æ€§å±æ€§ï¼ˆ availability attributesï¼‰</code>ï¼Œè¯·å‚é˜…æˆ‘ä»¬å…³äº<a href="https://www.raywenderlich.com/139077/availability-attributes-swift" target="_blank" rel="external">Swiftä¸­å¯ç”¨æ€§å±æ€§çš„æ•™ç¨‹</a>ã€‚</p>
</blockquote>
<h2 id="é€ƒé€¸é—­åŒ…ï¼ˆEscaping-Closuresï¼‰"><a href="#é€ƒé€¸é—­åŒ…ï¼ˆEscaping-Closuresï¼‰" class="headerlink" title="é€ƒé€¸é—­åŒ…ï¼ˆEscaping Closuresï¼‰"></a>é€ƒé€¸é—­åŒ…ï¼ˆEscaping Closuresï¼‰</h2><p>åœ¨Swift 3.0 <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0103-make-noescape-default.md" target="_blank" rel="external">[ SE-0103 ]</a> ä¸­å‡½æ•°ä¸­çš„é—­åŒ…çš„å‚æ•°æ˜¯é»˜è®¤æ˜¯ä¸é€ƒé€¸çš„ï¼ˆnon-escapingï¼‰ã€‚åœ¨Swift 3.1ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ–°çš„å‡½æ•°<code>withoutActuallyEscaping()</code>å°†éé€ƒé€¸é—­åŒ…è½¬æ¢ä¸ºä¸´æ—¶é€ƒé€¸ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">perform</span><span class="params">(<span class="number">_</span> f: <span class="params">()</span></span></span> -&gt; <span class="type">Void</span>, simultaneouslyWith g: () -&gt; <span class="type">Void</span>,</div><div class="line">             on queue: <span class="type">DispatchQueue</span>) &#123;</div><div class="line">  withoutActuallyEscaping(f) &#123; escapableF <span class="keyword">in</span>     <span class="comment">// 1</span></div><div class="line">    withoutActuallyEscaping(g) &#123; escapableG <span class="keyword">in</span></div><div class="line">      queue.async(execute: escapableF)           <span class="comment">// 2</span></div><div class="line">      queue.async(execute: escapableG)     </div><div class="line"> </div><div class="line">      queue.sync(flags: .barrier) &#123;&#125;             <span class="comment">// 3</span></div><div class="line">    &#125;                                            <span class="comment">// 4</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ­¤å‡½æ•°åŒæ—¶åŠ è½½ä¸¤ä¸ªé—­åŒ…ï¼Œç„¶ååœ¨ä¸¤ä¸ªå®Œæˆä¹‹åè¿”å›ã€‚</p>
<ol>
<li><code>f</code> ä¸ <code>g</code> è¿›å…¥å‡½æ•°åç”±éé€ƒé€¸çŠ¶æ€ï¼Œåˆ†åˆ«è½¬æ¢ä¸ºé€ƒé€¸é—­åŒ…:<code>escapableF</code>å’Œ<code>escapableG</code>ã€‚</li>
<li>async(execute:) çš„è°ƒç”¨éœ€è¦é€ƒé€¸é—­åŒ…ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»è¿›è¡Œäº†è½¬æ¢ã€‚</li>
<li>é€šè¿‡è¿è¡Œ<code>sync(flags: .barrier)</code>ï¼Œæ‚¨ç¡®ä¿<code>async(execute:)</code>æ–¹æ³•å®Œå…¨å®Œæˆï¼Œç¨åå°†ä¸ä¼šè°ƒç”¨é—­åŒ…ã€‚</li>
<li>åœ¨èŒƒå›´å†…ä½¿ç”¨ <code>escapableF</code> and <code>escapableG</code>.</li>
</ol>
<p>å¦‚æœä½ å­˜å‚¨ä¸´æ—¶é€ƒç¦»é—­åŒ…(å³çœŸæ­£é€ƒè„±)è¿™å°†æ˜¯ä¸€ä¸ªBugã€‚æœªæ¥ç‰ˆæœ¬çš„æ ‡å‡†åº“å¯ä»¥æ£€æµ‹è¿™ä¸ªé™·é˜±,å¦‚æœä½ è¯•å›¾è°ƒç”¨å®ƒä»¬ã€‚</p>
<h2 id="Swift-Package-Manager-æ›´æ–°"><a href="#Swift-Package-Manager-æ›´æ–°" class="headerlink" title="Swift Package Manager æ›´æ–°"></a>Swift Package Manager æ›´æ–°</h2><p>å•Šï¼ŒæœŸå¾…å·²ä¹…çš„ <strong>Swift Package Manage</strong> çš„æ›´æ–°äº†ï¼</p>
<h4 id="å¯ç¼–è¾‘è½¯ä»¶åŒ…ï¼ˆEditable-Packagesï¼‰"><a href="#å¯ç¼–è¾‘è½¯ä»¶åŒ…ï¼ˆEditable-Packagesï¼‰" class="headerlink" title="å¯ç¼–è¾‘è½¯ä»¶åŒ…ï¼ˆEditable Packagesï¼‰"></a>å¯ç¼–è¾‘è½¯ä»¶åŒ…ï¼ˆEditable Packagesï¼‰</h4><p>Swift 3.1å°†<code>å¯ç¼–è¾‘è½¯ä»¶åŒ…(editable packages)</code>çš„æ¦‚å¿µæ·»åŠ åˆ°Swiftè½¯ä»¶åŒ…ç®¡ç†å™¨ <a href="https://github.com/apple/swift-package-manager/blob/master/Documentation/Usage.md#editable-packages" target="_blank" rel="external">[ SE-0082 ]</a>ã€‚</p>
<p>è¯¥<code>swift package edit</code>å‘½ä»¤ä½¿ç”¨ç°æœ‰çš„<code>Packages</code>å¹¶å°†å…¶è½¬æ¢ä¸º<code>editable Packages</code>ã€‚ä½¿ç”¨<code>--end-edit</code>å‘½ä»¤å°† <code>package manager</code> è¿˜åŸå› <strong>è§„èŒƒè§£æçš„è½¯ä»¶åŒ…ï¼ˆcanonical resolved packagï¼‰</strong>ã€‚</p>
<h4 id="ç‰ˆæœ¬å›ºå®šï¼ˆVersion-Pinningï¼‰"><a href="#ç‰ˆæœ¬å›ºå®šï¼ˆVersion-Pinningï¼‰" class="headerlink" title="ç‰ˆæœ¬å›ºå®šï¼ˆVersion Pinningï¼‰"></a>ç‰ˆæœ¬å›ºå®šï¼ˆVersion Pinningï¼‰</h4><p>Swift 3.1 æ·»åŠ äº†ç‰ˆæœ¬å›ºå®šçš„æ¦‚å¿µ[ SE-0145 ]ã€‚è¯¥ <code>pin</code> å‘½ä»¤ å›ºå®šä¸€ä¸ªæˆ–æ‰€æœ‰ä¾èµ–å…³ç³»å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ swift package pin --all      <span class="comment">// å›ºå®šæ‰€æœ‰çš„ä¾èµ–</span></div><div class="line">$ swift package pin <span class="type">Foo</span>        <span class="comment">// å›ºå®š Foo åœ¨å½“å‰çš„é—­åŒ…</span></div><div class="line">$ swift package pin <span class="type">Foo</span> --version <span class="number">1.2</span>.<span class="number">3</span>  <span class="comment">// å›ºå®š Foo åœ¨ 1.2.3 ç‰ˆæœ¬</span></div></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>unpin</code>å‘½ä»¤æ¢å¤åˆ°ä»¥å‰çš„åŒ…ç‰ˆæœ¬ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ swift package unpin â€”all</div><div class="line">$ swift package unpin <span class="type">Foo</span></div></pre></td></tr></table></figure>
<p>Package manager å°†æ¯ä¸ªä¾èµ–åº“çš„ç‰ˆæœ¬å›ºå®šä¿¡æ¯å­˜å‚¨åœ¨ <code>Package.pins</code> æ–‡ä»¶ä¸­ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™Package manager ä¼šè‡ªåŠ¨åˆ›å»ºã€‚</p>
<h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><p><code>swift package reset</code> å‘½ä»¤å°†ä¼šæŠŠ Package é‡ç½®å¹²å‡€ã€‚</p>
<p><code>swift test --parallel</code> å‘½ä»¤ æ‰§è¡Œæµ‹è¯•ã€‚</p>
<h2 id="å…¶ä»–æ”¹åŠ¨"><a href="#å…¶ä»–æ”¹åŠ¨" class="headerlink" title="å…¶ä»–æ”¹åŠ¨"></a>å…¶ä»–æ”¹åŠ¨</h2><p>åœ¨ swift 3.1 ä¸­è¿˜æœ‰ä¸€äº›å°æ”¹åŠ¨</p>
<h4 id="å¤šé‡è¿”å›å‡½æ•°"><a href="#å¤šé‡è¿”å›å‡½æ•°" class="headerlink" title="å¤šé‡è¿”å›å‡½æ•°"></a>å¤šé‡è¿”å›å‡½æ•°</h4><p>Cå‡½æ•°è¿”å›ä¸¤æ¬¡ï¼Œä¾‹å¦‚<code>vfork</code> å’Œ <code>vfork</code>å·²ç»ä¸ç”¨äº†ã€‚ä»–ä»¬ä»¥æœ‰è¶£çš„æ–¹å¼æ”¹å˜äº†ç¨‹åºçš„æ§åˆ¶æµç¨‹ã€‚æ‰€ä»¥ Swift ç¤¾åŒº å·²ç»ç¦æ­¢äº†è¯¥è¡Œä¸ºï¼Œä»¥å…å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</p>
<h4 id="è‡ªåŠ¨é“¾æ¥å¤±æ•ˆï¼ˆDisable-Auto-Linkingï¼‰"><a href="#è‡ªåŠ¨é“¾æ¥å¤±æ•ˆï¼ˆDisable-Auto-Linkingï¼‰" class="headerlink" title="è‡ªåŠ¨é“¾æ¥å¤±æ•ˆï¼ˆDisable Auto-Linkingï¼‰"></a>è‡ªåŠ¨é“¾æ¥å¤±æ•ˆï¼ˆDisable Auto-Linkingï¼‰</h4><p><a href="https://github.com/apple/swift-package-manager" target="_blank" rel="external">Swift Package Manager</a> ç¦ç”¨äº†åœ¨Cè¯­è¨€ <a href="http://nsomar.com/modular-framework-creating-and-using-them/" target="_blank" rel="external"><strong>æ¨¡å—æ˜ å°„ï¼ˆmodule mapsï¼‰</strong></a>ä¸­çš„<strong>è‡ªåŠ¨é“¾æ¥</strong>çš„åŠŸèƒ½ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 3.0</span></div><div class="line">module <span class="type">MyCLib</span> &#123;</div><div class="line">    header â€œfoo.h<span class="string">"</span></div><div class="line"><span class="string">    link â€œMyCLib"</span></div><div class="line">    export *</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="comment">// Swift 3.1</span></div><div class="line">module <span class="type">MyCLib</span> &#123;</div><div class="line">    header â€œfoo.hâ€</div><div class="line">    export *</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>Swift 3.1æ”¹å–„äº†Swift 3.0çš„ä¸€äº›åŠŸèƒ½ï¼Œä¸ºå³å°†åˆ°æ¥çš„Swift 4.0çš„å¤§æ”¹åŠ¨åšå‡†å¤‡ã€‚è¿™äº›åŒ…æ‹¬å¯¹æ³›å‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ›´ç§‘å­¦çš„<code>String</code>ç­‰æ–¹é¢çš„ä½œå‡ºæå¤§çš„æ”¹è¿›ã€‚</p>
<p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œè¯·è½¬åˆ° <a href="https://developer.apple.com/reference/swift?changes=latest_minor" target="_blank" rel="external">Swift standard library diffs</a> æˆ–è€…æŸ¥çœ‹å®˜æ–¹çš„çš„<a href="https://github.com/apple/swift/blob/master/CHANGELOG.md" target="_blank" rel="external">Swift CHANGELOG</a>ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­é˜…è¯»æ‰€æœ‰æ›´æ”¹çš„ä¿¡æ¯ã€‚æˆ–è€…æ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥äº†è§£ <strong>Swift 4.0</strong> ä¸­çš„å†…å®¹ï¼</p>
<h2 id="è‘—ä½œæƒå£°æ˜"><a href="#è‘—ä½œæƒå£°æ˜" class="headerlink" title="è‘—ä½œæƒå£°æ˜"></a>è‘—ä½œæƒå£°æ˜</h2><p>æœ¬æ–‡è¯‘è‡ª <a href="https://www.raywenderlich.com/156352/whats-new-in-swift-3-1" target="_blank" rel="external">Whatâ€™s New in Swift 3.1?</a></p>
<p>ç”±<a href="http://github.com/qiubaiying" target="_blank" rel="external">@æŸè§(BY)</a>è¿›è¡Œç¿»è¯‘,é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>ï¼Œè½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/23/2017-03-23-AsyncDisplayKit-2.0-æ•™ç¨‹ï¼šå…¥é—¨ã€Œè¯‘ã€/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/23/2017-03-23-AsyncDisplayKit-2.0-æ•™ç¨‹ï¼šå…¥é—¨ã€Œè¯‘ã€/" itemprop="url">AsyncDisplayKit 2.0 æ•™ç¨‹:å…¥é—¨ã€Œè¯‘ã€</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-03-23T00:00:00+08:00">
                2017-03-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>AsyncDisplayKit 2.0 Tutorial: Getting Started</p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote>
<p>â€œè‰ºæœ¯æ˜¯ä½ ä»»ä½•èƒ½åšåˆ°æè‡´çš„äº‹â€</p>
</blockquote>
<p><a href="http://asyncdisplaykit.org/" target="_blank" rel="external"><strong>AsyncDisplayKit</strong></a> æ˜¯ä¸€ä¸ªUIæ¡†æ¶ï¼Œæœ€åˆè¯ç”Ÿäº Facebook çš„ <strong>Paper</strong> åº”ç”¨ç¨‹åºã€‚å®ƒæ˜¯ä¸ºäº†è§£å†³ Paper å›¢é˜Ÿé¢ä¸´çš„æ ¸å¿ƒé—®é¢˜ä¹‹ä¸€ï¼šå¦‚ä½•å°½å¯èƒ½ç¼“è§£ä¸»çº¿ç¨‹çš„å‹åŠ›ï¼Ÿ</p>
<p>ç°åœ¨,è®¸å¤šåº”ç”¨ç¨‹åºçš„ç”¨æˆ·ä½“éªŒ,å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºæŒç»­æ‰‹åŠ¿å’Œç‰©ç†åŠ¨ç”»ã€‚è‡³å°‘,ä½ çš„UIå¯èƒ½æ˜¯ä¾èµ–äºæŸç§å½¢å¼çš„ <code>scrollView</code>ã€‚</p>
<p>è¿™äº›ç±»å‹çš„ç”¨æˆ·ç•Œé¢å®Œå…¨ä¾èµ–äºä¸»çº¿ç¨‹ï¼Œå¹¶ä¸”å¯¹ä¸»çº¿ç¨‹é˜»å¡éå¸¸æ•æ„Ÿã€‚ä¸»çº¿ç¨‹é˜»å¡å°†å¯¼è‡´ä¸¢å¸§ï¼Œé™ä½ç”¨æˆ·çš„ä½“éªŒã€‚</p>
<p>ä¸€äº›ä¸»çº¿ç¨‹å¼€é”€è¾ƒå¤§çš„ä»»åŠ¡åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>è®¡ç®—å°ºå¯¸å’Œå¸ƒå±€</strong>ï¼šæ¯”å¦‚  <code>-heightForRowAtIndexPath:</code>ï¼Œæˆ–è€…åœ¨UILbelä¸­è°ƒç”¨ <code>-sizeThatFits</code> ä»¥åŠ<a href="http://floriankugler.com/2013/04/22/auto-layout-performance-on-ios/" target="_blank" rel="external">æŒ‡æ•°ä¸Šå‡</a>çš„ <code>AutoLayoutâ€˜s</code>å¸ƒå±€è®¡ç®—ã€‚</li>
<li><strong>å›¾åƒè§£ç </strong>ï¼šæƒ³è¦åœ¨ä¸€ä¸ª image view ä¸­ä½¿ç”¨ <code>UIImage</code>ï¼Œé¦–å…ˆè¦è¿›è¡Œè§£ç ã€‚</li>
<li><strong>ç»˜å›¾</strong>ï¼šå¤æ‚çš„æ–‡æœ¬ä»¥åŠæ‰‹åŠ¨ç»˜åˆ¶æ¸å˜å’Œé˜´å½±ã€‚</li>
<li><strong>å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šåˆ›å»ºï¼Œæ“çºµå’Œé”€æ¯ç³»ç»Ÿå¯¹è±¡ï¼ˆå³åˆ›å»ºä¸€ä¸ªUIViewï¼‰</li>
</ul>
<p>å½“æ­£ç¡®ä½¿ç”¨æ—¶,AsyncDisplayKit å…è®¸æ‚¨åœ¨é»˜è®¤æƒ…å†µä¸‹å¼‚æ­¥æ‰§è¡Œæ‰€æœ‰æµ‹é‡ã€å¸ƒå±€å’Œæ¸²æŸ“ã€‚æ— éœ€ä»»ä½•é¢å¤–çš„ä¼˜åŒ–ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥å‡å°‘çº¦ä¸€ä¸ªæ•°é‡çº§çš„ä¸»çº¿ç¨‹å¼€é”€ã€‚</p>
<p>é™¤äº†è¿™äº›æ€§èƒ½ä¼˜åŠ¿ï¼Œé…·ç‚«çš„ AsyncDisplayKit è¿˜ä¸ºå¼€å‘è€…æä¾›çš„ä¾¿åˆ©æ¥å£ï¼Œç”¨ç®€æ´çš„ä»£ç å°±èƒ½å®Œæˆå¤æ‚çš„åŠŸèƒ½ã€‚</p>
<p>åœ¨è¿™ä¸¤éƒ¨åˆ† <strong>AsyncDisplayKit 2.0</strong> æ•™ç¨‹ä¸­ï¼Œä½ å°†æŒæ¡ä½¿ç”¨ASDKæ„å»ºä¸€ä¸ªå®ç”¨çš„å’ŒåŠ¨æ€çš„åº”ç”¨ç¨‹åºçš„æ‰€æœ‰è¦ç´ ã€‚åœ¨ç¬¬ä¸€éƒ¨åˆ†ä¸­ï¼Œä½ å°†è¦å­¦ä¹ ä¸€äº›åœ¨ä½ æ„å»ºåº”ç”¨ç¨‹åºæ—¶å¯ä»¥ç”¨åˆ°çš„å®è§‚æ€æƒ³ã€‚åœ¨<a href="https://www.raywenderlich.com/124696/asyncdisplaykit-2-0-tutorial-automatic-layout" target="_blank" rel="external">ç¬¬äºŒéƒ¨åˆ†</a>ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•æ„å»ºè‡ªå·± node çš„ subclassï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ASDKå¼ºå¤§çš„å¸ƒå±€å¼•æ“ã€‚ä¸ºäº†æ›´å¥½çš„å®Œæˆæœ¬æ•™ç¨‹ï¼Œä½ éœ€è¦ä¼šä½¿ç”¨ Xcode ä»¥åŠ ç†Ÿæ‚‰ Objective-Cã€‚</p>
<blockquote>
<p><strong>å…è´£å£°æ˜</strong>ï¼šASDKä¸å…¼å®¹ <a href="http://www.youtube.com/watch?v=RY_X7l1g79Q&amp;feature=youtu.be&amp;t=29m37s" target="_blank" rel="external">Interface Builderå’ŒAutoLayout</a>ï¼Œå› æ­¤ï¼Œæ‚¨å°†ä¸ä¼šåœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨å®ƒä»¬ï¼Œè™½ç„¶ASDKå®Œå…¨æ”¯æŒSwift(é™¤äº†ComponentKit)ï¼Œè®¸å¤šå¼€å‘è€…ä»åœ¨ä½¿ç”¨<br>Objective-Cã€‚å…è´¹Appæ’è¡Œæ¦œå‰100å¤§å¤šæ•°éƒ½æ²¡æœ‰ä½¿ç”¨Swiftï¼ˆè‡³å°‘6ä¸ªä½¿ç”¨ASDKï¼‰ã€‚å‡ºäºè¿™äº›åŸå› ï¼Œæœ¬ç³»åˆ—å°†é‡ç‚¹ä»‹ç» Objective-Cã€‚è¯è™½è¿™ä¹ˆè¯´ï¼Œæˆ‘ä»¬å·²ç»åŒ…æ‹¬äº†ä¸€ä¸ªSwiftç‰ˆæœ¬çš„å®ä¾‹é¡¹ç›®ã€‚ï¼ˆå˜´ä¸Šè¯´æ²¡æœ‰ï¼Œä»£ç è¿˜æ˜¯å¾ˆè¯šå®çš„ğŸ˜‚~ï¼‰</p>
</blockquote>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><p>é¦–å…ˆï¼Œ<a href="https://koenig-media.raywenderlich.com/uploads/2016/12/AsyncDisplayKit-Starter-4.zip" target="_blank" rel="external">ä¸‹è½½åˆå§‹é¡¹ç›®</a>ã€‚</p>
<p>è¯¥é¡¹ç›®ä½¿ç”¨ <a href="https://cocoapods.org/" target="_blank" rel="external">CocoaPods</a> æ¥æ‹‰å…¥AsyncDisplayKitã€‚æ‰€ä»¥ï¼Œåœ¨æ­£å¸¸çš„ CocoaPods ä½“ç³»ä¸‹ï¼Œæ‰“å¼€ <code>RainforestStarter.xcworkspace</code> è€Œä¸æ˜¯<code>RainforestStarter.xcodeproj</code>ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šéœ€è¦ç½‘ç»œè¿æ¥æ‰èƒ½å®Œæˆæœ¬æ•™ç¨‹ã€‚</p>
</blockquote>
<p>æ„å»ºå¹¶è¿è¡Œä»¥æŸ¥çœ‹åŒ…å« <code>UITableView</code> åŠ¨ç‰©åˆ—è¡¨çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ çœ‹è¿‡äº†ä»£ç ï¼Œ<code>AnimalTableController</code> ä½ ä¼šå‘ç°è¿™æ˜¯ä¸€ä¸ªæ­£å¸¸ä¸”ç†Ÿæ‚‰çš„ <code>UITableViewController</code> ç±»ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šç¡®ä¿åœ¨çœŸæœºä¸Šè¿è¡Œæœ¬æ•™ç¨‹ä¸­çš„ä»£ç ï¼Œè€Œä¸æ˜¯åœ¨æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œã€‚</p>
</blockquote>
<p>å‘ä¸Šæ»‘åŠ¨ä½ å°†çœ‹åˆ°å¸§æ•°ä¸¢å¤±å¼•èµ·çš„å¡é¡¿ã€‚ä½ ä¸éœ€è¦å¯åŠ¨æ§åˆ¶å°ï¼Œä»¥ä¾¿èƒ½å‘ç°åˆ°è¿™ä¸ªåº”ç”¨ç¨‹åºéœ€è¦åœ¨æ€§èƒ½æ–¹é¢ä¸Šçš„ä¸€äº›ä¼˜åŒ–ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ <strong>AsyncDisplayKit</strong> çš„åŠ›é‡æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
<h1 id="ASDisplayNode-ç®€ä»‹"><a href="#ASDisplayNode-ç®€ä»‹" class="headerlink" title="ASDisplayNode ç®€ä»‹"></a>ASDisplayNode ç®€ä»‹</h1><p><code>ASDisplayNode</code> æ˜¯ASDKçš„æ ¸å¿ƒç±»ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç±»ä¼¼äº MVC ä¸­çš„ â€œViewâ€ ä¸€æ ·çš„<code>UIView</code> æˆ– <code>CALayer</code>ã€‚è®¤è¯†ä¸€ä¸ª node çš„æœ€ä½³æ–¹æ³•æ˜¯å‚ç…§ä½ å·²ç»ç†Ÿæ‚‰çš„ <code>UIViews</code> å’Œ <code>CALayers</code> ä¹‹é—´çš„å…³ç³»ã€‚</p>
<p>è®°ä½ï¼ŒiOSåº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰åœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºéƒ½é€šè¿‡<code>CALayer</code>å¯¹è±¡è¡¨ç¤ºçš„ã€‚<code>UIViews</code> åˆ›å»ºå¹¶ä¸”æ‹¥æœ‰ä¸€ä¸ªåº•å±‚çš„ <code>CALayer</code>ï¼Œå¹¶ä¸ºä»–ä»¬æ·»åŠ è§¦æ‘¸å¤„ç†å’Œå…¶ä»–äº¤äº’åŠŸèƒ½ã€‚<code>UIView</code> å¹¶ä¸æ˜¯ <code>CALayer</code> çš„å­ç±»ï¼Œè€Œæ˜¯ç›¸äº’ç¯ç»•ï¼Œæ‰©å±•å…¶åŠŸèƒ½ã€‚</p>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/03/view-layer-480x229.png" alt="">    </p>
<p>è¿™ç§æŠ½è±¡çš„æƒ…å†µä¸‹æ‰©å±• <code>ASDisplayNode</code>ï¼šæ‚¨å¯ä»¥å°†å®ƒä»¬è§†ä¸ºåŒ…è£…ä¸€ä¸ª viewï¼Œå°±åƒåœ¨ view ä¸Šæ·»åŠ ä¸€ä¸ª layer ä¸€æ ·ã€‚</p>
<p>é€šå¸¸ç”± Node åˆ›å»ºçš„ä¸€ä¸ªå¸¸è§„çš„viewï¼Œå…¶åˆ›å»ºå’Œé…ç½®éƒ½åœ¨è¡Œé˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œå¹¶ä¸”å¼‚æ­¥æ¸²æŸ“ã€‚</p>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/03/node-view-layer-480x161.png" alt=""></p>
<p>å¹¸è¿çš„æ˜¯ï¼Œç”¨äºå¤„ç† Node çš„ API å¯¹äºä»»ä½•ä½¿ç”¨è¿‡çš„ <code>UIViews</code> æˆ–è€… <code>CALayers</code> çš„äººæ¥è¯´åº”è¯¥å¼‚å¸¸çš„ç†Ÿæ‚‰ã€‚æ‰€æœ‰ View çš„å±æ€§éƒ½å¯ä»¥ç­‰æ•ˆä¸º Node ç±»ã€‚ä½ å¯ä»¥è®¿é—®åŸºç¡€çš„ view æˆ–è€… layer æœ¬èº«ï¼Œå°±åƒæ˜¯è®¿é—® <code>view.layer</code> ä¸€æ ·</p>
<h1 id="èŠ‚ç‚¹å®¹å™¨ï¼ˆThe-Node-Containersï¼‰"><a href="#èŠ‚ç‚¹å®¹å™¨ï¼ˆThe-Node-Containersï¼‰" class="headerlink" title="èŠ‚ç‚¹å®¹å™¨ï¼ˆThe Node Containersï¼‰"></a>èŠ‚ç‚¹å®¹å™¨ï¼ˆThe Node Containersï¼‰</h1><p>è™½ç„¶ Node æœ¬èº«æä¾›äº†å·¨å¤§çš„æ€§èƒ½æ”¹è¿›çš„å¯èƒ½ï¼Œä½†çœŸæ­£çš„å¼ºå¤§çš„æ˜¯å®ƒä»¬ä¸å››ä¸ªå®¹å™¨ç±»ç»“åˆä½¿ç”¨æ—¶äº§ç”Ÿçš„é»‘é­”æ³•ã€‚</p>
<p>è¿™äº›ç±»åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ASViewController</strong>ï¼šä¸€ä¸ª <code>UIViewController</code> çš„å­ç±»ï¼Œå…è®¸ä½ æä¾›è¦ç®¡ç†çš„ Nodeã€‚</li>
<li><strong>ASCollectionNode</strong> and <strong>ASTableNode</strong>ï¼šNode ç­‰æ•ˆäº <code>UICollectionView</code> å’Œ <code>UITableView</code>ï¼Œå…¶å­ç±»å®é™…ä¸Šä¿ç•™åœ¨åº•å±‚ã€‚</li>
<li><strong>ASPagerNode</strong>:ä¸€ä¸ª<code>ASCollectionNode</code>çš„å­ç±»ï¼Œæä¾›æå¥½çš„æ»‘åŠ¨æ€§èƒ½ç›¸æ¯”ä¸ <code>UIKit</code> çš„ <code>UIPageViewController</code> æ¥è¯´ã€‚</li>
</ul>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/03/ragecomic-480x229.png" alt=""></p>
<p>è¯´å¾—å¥½ï¼Œä½†çœŸæ­£çš„é»‘é­”æ³•æ¥è‡ª <code>ASRangeController</code> è¿™äº›ç±»ç”¨äºå½±å“æ‰€åŒ…å«çš„ Node çš„è¡Œä¸ºã€‚ç°åœ¨ï¼Œè·Ÿç€æˆ‘å¹¶æŠŠä½ ä»¬çš„è„‘è¢‹æ”¾ç©ºå§~</p>
<h1 id="TableNode"><a href="#TableNode" class="headerlink" title="TableNode"></a>TableNode</h1><p>ä½ è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å°†å½“å‰ TableView æ›¿æ¢ä¸º TableNodeã€‚è¿™ä¸ªæ²¡ä»€ä¹ˆéš¾åº¦ã€‚</p>
<h4 id="å°†-TableView-æ›¿æ¢ä¸º-TableNode"><a href="#å°†-TableView-æ›¿æ¢ä¸º-TableNode" class="headerlink" title="å°† TableView æ›¿æ¢ä¸º TableNode"></a>å°† TableView æ›¿æ¢ä¸º TableNode</h4><p>é¦–å…ˆï¼Œè¿›å…¥åˆ° <code>AnimalTableController.m</code> ã€‚åœ¨æ­¤ç±»ä¸­æ·»åŠ ä¸‹é¢ä»£ç ä¸‹é¢ä»£ç ã€‚</p>
<pre><code>#import &lt;AsyncDisplayKit/AsyncDisplayKit.h&gt;
</code></pre><p>è¿™å°±å¯¼å…¥äº† ASDK æ¡†æ¶ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬ç»§ç»­ï¼Œæ›¿æ¢ <code>tableView</code> çš„å£°æ˜å±æ€§ ï¼š</p>
<pre><code>@property  ï¼ˆ strongï¼Œnonatomic ï¼‰ UITableView * tableView;
</code></pre><p>æ›¿æ¢ä¸º <code>tableNode</code>ï¼š</p>
<pre><code>@property  ï¼ˆ strongï¼Œnonatomic ï¼‰ ASTableNode * tableNode;
</code></pre><p>è¿™å°†å¯¼è‡´è¿™ä¸ªç±»ä¸­å¾ˆå¤šåœ°æ–¹æŠ¥é”™ï¼Œä½†ä¸è¦æ…Œå¼ ï¼</p>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/03/butBut-1-480x229.png" alt=""></p>
<p>åˆ«æ‹…å¿ƒã€‚è¿™äº›é”™è¯¯å’Œè­¦å‘Šå°†ä½œä¸ºä½ çš„å‘å¯¼ï¼Œå°†ä»£ç è½¬æ¢æˆæˆ‘ä»¬æƒ³è¦çš„ã€‚</p>
<p><code>-viewDidLoad</code> ä¸­çš„æŠ¥é”™æ˜¯ç†æ‰€å½“ç„¶ï¼Œå› ä¸º <code>tableView</code> å·²ç»è¢«æ›¿æ¢æ‰ã€‚æˆ‘ä¸ä¼šè®©ä½ é€šè¿‡ <code>tableNode</code> æ›¿æ¢ æ‰€æœ‰çš„ <code>tableView</code> å®ä¾‹ï¼ˆæˆ‘çš„æ„æ€æ˜¯ï¼ŒæŸ¥æ‰¾å’Œæ›¿æ¢å¹¶éé‚£ä¹ˆéš¾ï¼‰ï¼Œä½†æ˜¯å¦‚æœä½ åšäº†ï¼Œä½ ä¼šçœ‹åˆ°ï¼š</p>
<ol>
<li>ä½ åº”è¯¥ä¸º <code>ASTableNode</code> åˆ†é…ä¸€ä¸ªå±æ€§ã€‚</li>
<li>table Node  æ²¡æœ‰è°ƒç”¨ <code>-registerClass:forCellReuseIdentifier:</code> æ–¹æ³•ã€‚</li>
<li>ä½ ä¸èƒ½æ·»åŠ ä¸€ä¸ª node åˆ° subview</li>
</ol>
<p>æ­¤æ—¶ï¼Œä½ åº”è¯¥å°† <code>-viewDidLoad</code> ä¸­çš„æ–¹æ³•æ›¿æ¢ä¸ºï¼š</p>
<pre><code>- (void)viewDidLoad {
  [super viewDidLoad];

  [self.view addSubnode:self.tableNode];
  [self applyStyle];
}
</code></pre><p>è¿™é‡Œè¦æ³¨æ„ä¸€ä¸ªæœ‰è¶£çš„æƒ…å†µï¼Œä½ è°ƒç”¨çš„æ˜¯ UIView çš„ä¸€ä¸ª <code>-addSubnode:</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ˜¯é€šè¿‡ category æ·»åŠ åˆ° <code>UIView</code> ä¸Šçš„ï¼Œç­‰æ•ˆäº: </p>
<pre><code>[self.view addSubview:self.tableNode.view];
</code></pre><p>æ¥ä¸‹æ¥ï¼Œä¿®æ”¹ <code>-viewWillLayoutSubviews</code> ä¸­çš„ä»£ç ï¼š</p>
<pre><code>- (void)viewWillLayoutSubviews {
  [super viewWillLayoutSubviews];

  self.tableNode.frame = self.view.bounds;
}
</code></pre><p>è¿™æ ·å°±æ›¿æ¢ç”¨ <code>self.tableNode</code> æ›¿æ¢äº† <code>self.tableView</code>ï¼Œå¹¶ä¸”è®¾ç½®äº† table çš„ Frame</p>
<p>ç»§ç»­ä¿®æ”¹ <code>-applyStyle</code> æ–¹æ³•ä¸­çš„ä»£ç ä¸ºï¼š</p>
<pre><code>- (void)applyStyle {
  self.view.backgroundColor = [UIColor blackColor];
  self.tableNode.view.separatorStyle = UITableViewCellSeparatorStyleNone;
}
</code></pre><p>è¿™æ˜¯å”¯ä¸€è®¾ç½® table çš„ <code>separatorStyle</code> çš„ä¸€è¡Œä»£ç ã€‚æ³¨æ„ tableNode çš„ view æ˜¯å¦‚ä½•è®¿é—® table çš„ <code>separatorStyle</code> å±æ€§çš„ã€‚<code>ASTableNode</code> ä¸ä¼šæš´éœ²æ‰€æœ‰<code>UITableView</code>çš„çš„å±æ€§ï¼Œæ‰€ä»¥ä½ å¿…é¡»é€šè¿‡ tableNode åº•å±‚çš„ <code>UITableView</code> å®ä¾‹å»è®¾ç½® <code>UITableView</code> çš„ç‰¹æ®Šå±æ€§ã€‚</p>
<p>ç„¶åï¼Œåœ¨ <code>-initWithAnimals:</code> æ–¹æ³•ä¸­æ·»åŠ ã€‚</p>
<pre><code>_tableNode = [[ASTableNode alloc] initWithStyle:UITableViewStylePlain];
</code></pre><p>å¹¶ä¸”åœ¨ <strong>return</strong> ä¹‹å‰ï¼Œè°ƒç”¨ï¼š</p>
<pre><code>[self wireDelegation];
</code></pre><p>è¿™å°±ä¼šåœ¨åˆå§‹åŒ– <code>AnimalTableController</code> çš„æ—¶å€™ï¼Œåˆ›å»ºäº†ä¸€ä¸ª tableNode å¹¶ä¸”è°ƒç”¨ <code>-wireDelegation</code> æ–¹æ³• è®¾ç½® tableNode çš„ ä»£ç†ã€‚</p>
<h4 id="è®¾ç½®-TableNode-çš„-DataSource-amp-Delegate"><a href="#è®¾ç½®-TableNode-çš„-DataSource-amp-Delegate" class="headerlink" title="è®¾ç½®  TableNode çš„ DataSource &amp; Delegate"></a>è®¾ç½®  TableNode çš„ DataSource &amp; Delegate</h4><p>ç±»ä¼¼äº <code>UITableView</code>ï¼Œ<code>ASTableNode</code> ä¹Ÿä½¿ç”¨ DataSource å’Œ Delegate æ¥è®¾ç½®æœ¬èº«ã€‚TableNode çš„<code>ASTableDataSource</code> å’Œ <code>ASTableDelegate</code> protocols éå¸¸ç±»ä¼¼äº <code>UITableViewDataSource</code> å’Œ <code>UITableViewDelegate</code>ã€‚</p>
<p>äº‹å®ä¸Šï¼Œè™½ç„¶ä»–ä»¬å®šä¹‰äº†ä¸€äº›å®Œå…¨ç›¸åŒçš„æ–¹æ³•ï¼Œå¦‚ <code>-tableNode:numberOfRowsInSection:</code>ï¼Œä½†ä¸¤ç»„åè®®ä¹Ÿä¸å®Œå…¨ç›¸åŒï¼Œå› ä¸º <code>ASTableNode</code> è¡Œä¸ºå’Œ<code>UITableView</code>è¿˜ä»¥æ‰€æœ‰ä¸åŒçš„ã€‚</p>
<p>æ‰¾åˆ° <code>-wireDelegation</code> æ–¹æ³•ï¼Œ å¹¶ç”¨ <code>tableNode</code> æ›¿æ¢ <code>tableView</code>ï¼š</p>
<pre><code>- (void)wireDelegation {
  self.tableNode.dataSource = self;
  self.tableNode.delegate = self;
}
</code></pre><p>ç°åœ¨ï¼Œ ä½ ä¼šæ”¶åˆ°è­¦å‘Š, <code>AnimalTableController</code> å®é™…ä¸Šä¸ç¬¦åˆåè®®ã€‚ç›®å‰ï¼Œ<code>AnimalTableController</code> ä»…éµå¾ª <code>UITableViewDataSource</code> å’Œ <code>UITableViewDelegate</code>åè®®ã€‚åœ¨ä¸‹é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†éµå¾ªè¿™äº›åè®®ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ tableNode çš„åŠŸèƒ½ã€‚</p>
<h4 id="éµå¾ª-ASTableDataSource"><a href="#éµå¾ª-ASTableDataSource" class="headerlink" title="éµå¾ª ASTableDataSource"></a>éµå¾ª ASTableDataSource</h4><p>åœ¨ <code>AnimalTableController.m</code> å¼€å¤´çš„åœ°æ–¹æ‰¾åˆ° <code>AnimalTableController</code> çš„ <code>DataSource</code> æ‰©å±•å£°æ˜ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AnimalTableController</span> (<span class="title">DataSource</span>)&lt;<span class="title">UITableViewDataSource</span>&gt;</span></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>ç”¨ <code>ASTableDataSource</code> æ›¿æ¢ <code>UITableViewDataSource</code>ä¸ºï¼š</p>
<pre><code>@interface AnimalTableController (DataSource)&lt;ASTableDataSource&gt;
@end
</code></pre><p>ç°åœ¨ï¼Œ<code>AnimalTableController</code> å·²ç»éµå¾ªäº† <code>AnimalTableController</code> åè®®ã€‚æœ¬å°±è¯¥å¦‚æ­¤äº†ã€‚</p>
<p>å¯¼èˆªåˆ° <code>AnimalTableController.m</code> çš„åº•éƒ¨å¹¶æ‰¾åˆ° <code>DataSource</code> category çš„å®ç°ã€‚</p>
<p>é¦–å…ˆï¼Œå°† <code>UITableViewDataSource</code> çš„ <code>-tableView:numberOfRowsInSection:</code>æ–¹æ³•ï¼Œ<br>æ›´æ”¹ä¸º<code>ASTableDataSource</code> çš„ç‰ˆæœ¬ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSInteger</span>)tableNode:(ASTableNode *)tableNode numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section &#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">self</span>.animals.count;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ¥ç€ï¼Œ<code>ASTableNodes</code> çš„ cells ä¼šä»¥ä¸åŒäº <code>UITableView</code> çš„æ–¹å¼è¿”å›ã€‚ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢ <code>-tableView:cellForRowAtIndexPath:</code> ä»¥é€‚åº”æ–°çš„è§„åˆ™ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1</span></div><div class="line">- (ASCellNodeBlock)tableNode:(ASTableView *)tableView nodeBlockForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</div><div class="line">  </div><div class="line">  <span class="comment">// 2</span></div><div class="line">  RainforestCardInfo *animal = <span class="keyword">self</span>.animals[indexPath.row];</div><div class="line"> </div><div class="line">  <span class="comment">// 3 return ASCellNodeBlock</span></div><div class="line">  <span class="keyword">return</span> ^&#123;</div><div class="line">    <span class="comment">// 4</span></div><div class="line">    CardNode *cardNode = [[CardNode alloc] initWithAnimal:animal];</div><div class="line"> </div><div class="line">    <span class="comment">//You'll add something extra here later...</span></div><div class="line">    <span class="keyword">return</span> cardNode;</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è®©æˆ‘ä»¬æ•´ç†ä¸€ä¸‹ï¼š</p>
<ol>
<li>ASDK ä¸­çš„ <code>ASCellNode</code> ç­‰ä»·äº <code>UITableViewCell</code> æˆ–è€… <code>UICollectionViewCell</code>ã€‚è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª <code>ASCellNodeBlock</code>ï¼Œ<code>ASTableNode</code> ç»´æŒç€å†…éƒ¨æ‰€æœ‰çš„ Cellï¼Œæ¯ä¸ª indexPath å¯¹åº”ä¸€ä¸ª blockï¼Œå¹¶ä¸”éšæ—¶å‡†å¤‡è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
<li>ä½ çš„é¦–è¦ä»»åŠ¡æ˜¯é€šè¿‡æ•°æ®æ¨¡å‹æ„å»ºcellã€‚è¿™æ˜¯éå¸¸é‡è¦çš„ä¸€æ­¥ï¼Œè¦æ³¨æ„ï¼ä½ è·å–æ•°æ®ååœ¨ ä¸‹é¢çš„ block å¤„ç†ã€‚ä¸è¦åœ¨ block é‡Œå¼•ç”¨<code>indexPath</code>,ä»¥é˜²æ­¢ block è¿è¡Œå‰çš„æ•°æ®å˜åŠ¨ã€‚</li>
<li>ç„¶åè¿”å›ä¸€ä¸ª blockï¼Œå…¶è¿”å›å€¼å¿…é¡»ä¸º <code>ASCellNode</code>ã€‚</li>
<li>æ²¡æœ‰å¿…è¦æ‹…å¿ƒCellçš„å¤ç”¨ä»¥åŠåˆå§‹åŒ–ä¸€ä¸ªCellçš„æ–¹æ³•ã€‚æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°æ‚¨ç°åœ¨è¿”å›äº†<code>CardNode</code>ï¼Œè€Œä¸æ˜¯<code>CardCell</code>ã€‚</li>
</ol>
<p>è¿™è®©æˆ‘æƒ³åˆ°ä¸€ä¸ªé‡è¦çš„ç‚¹ã€‚æˆ–è®¸ä½ å·²ç»äº†è§£åˆ°ï¼Œ<strong>ä½¿ç”¨ ASDK ä¸éœ€è¦å¤ç”¨ cell</strong>ï¼Œå¥½å§ï¼Œæˆ‘å·²ç»è¯´äº†ä¸¤éäº†ï¼Œä½†èƒ½è®°ä½å°±å¥½ã€‚è¯·éšæ„åˆ é™¤é¡¶éƒ¨<code>kCellReuseIdentifier</code>çš„å®šä¹‰å§</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="built_in">NSString</span> *kCellReuseIdentifier = <span class="string">@"CellReuseIdentifier"</span>;</div></pre></td></tr></table></figure>
<p>ä½ ä¸å¿…å†æ‹…å¿ƒ <code>-prepareForReuse</code>äº†</p>
<h4 id="éµå¾ª-ASTableDelegate"><a href="#éµå¾ª-ASTableDelegate" class="headerlink" title="éµå¾ª ASTableDelegate"></a>éµå¾ª ASTableDelegate</h4><p>åœ¨ <code>AnimalTableController.m</code> é¡¶éƒ¨ï¼Œæ‰¾åˆ°ä»¥ä¸‹Delegateç±»åˆ«æ¥å£å£°æ˜ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AnimalTableController</span> (<span class="title">Delegate</span>)&lt;<span class="title">UITableViewDelegate</span>&gt;</span></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>ç”¨ <code>ASTableDelegate</code> æ›¿æ¢ <code>UITableViewDelegate</code>ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AnimalTableController</span> (<span class="title">Delegate</span>)&lt;<span class="title">ASTableDelegate</span>&gt;</span></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>ç°åœ¨ <code>AnimalTableController</code> å·²ç»éµå¾ªäº† <code>ASTableDelegate</code>ï¼Œæ˜¯æ—¶å€™åšå¤„ç†äº†ã€‚åœ¨ <code>AnimalTableController.m</code> åº•éƒ¨æ‰¾åˆ° <code>Delegate</code> åˆ†ç±»çš„å®ç°ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ¯ä¸ª <code>UITableView</code> è‡³å°‘éƒ½è¦æä¾›ä¸€ä¸ª <code>-tableView:heightForRowAtIndexPath:</code> å®ç°æ–¹æ³•ï¼Œå› ä¸ºæ¯ä¸ª cell çš„é«˜åº¦éƒ½ç”±ä»£ç†è®¡ç®—å’Œè¿”å›ã€‚</p>
<p><code>ASTableDelegate</code> ä¸­æ²¡æœ‰ <code>-tableView:heightForRowAtIndexPath:</code>ã€‚å† ASDK ä¸­ï¼Œæ‰€æœ‰çš„ <code>ASCellNode</code> éƒ½è´Ÿè´£ç¡®å®šè‡ªå·±çš„å¤§å°ã€‚ä½ å¯ä»¥é€‰æ‹©ä¸ºå•å…ƒæ ¼å®šä¹‰æœ€å°å’Œæœ€å¤§å°ºå¯¸ï¼Œè€Œä¸æ˜¯æä¾›é™æ€é«˜åº¦ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¸Œæœ›æ¯ä¸ªcellçš„é«˜åº¦è‡³å°‘ä¸ºå±å¹•çš„ 2ï¼3ã€‚</p>
<p>ç°åœ¨ä¸ç”¨æ‹…å¿ƒå¤ªå¤šï¼Œè¿™ä¸ªä¼šåœ¨ç¬¬äºŒéƒ¨åˆ†ä¸­ä»‹ç»ã€‚</p>
<p>ç°åœ¨åªéœ€è¦æ›¿æ¢ <code>-tableView:heightForRowAtIndexPath:</code>ä¸º:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (ASSizeRange)tableView:(ASTableView *)tableNode </div><div class="line">  constrainedSizeForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</div><div class="line">  <span class="built_in">CGFloat</span> width = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</div><div class="line">  <span class="built_in">CGSize</span> min = <span class="built_in">CGSizeMake</span>(width, ([<span class="built_in">UIScreen</span> mainScreen].bounds.size.height/<span class="number">3</span>) * <span class="number">2</span>);</div><div class="line">  <span class="built_in">CGSize</span> max = <span class="built_in">CGSizeMake</span>(width, INFINITY);</div><div class="line">  <span class="keyword">return</span> ASSizeRangeMake(min, max);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç»è¿‡æˆ‘ä»¬çš„è¾›å‹¤åŠ³åŠ¨ï¼Œé‡æ–°ç¼–è¯‘ã€è¿è¡Œé¡¹ç›®ï¼Œçœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/06/InfiniteScrollingGif.gif" alt=""></p>
<p>çœŸæ˜¯ä¸€ä¸ªæµç•…çš„ <code>tableView</code>ï¼ä¸€æ—¦ä½ å¼€å§‹åšäº†ï¼Œé‚£å°±è®©æˆ‘ä»¬åšçš„æ›´å¥½å§ï¼</p>
<h2 id="æ— é™æ»šåŠ¨"><a href="#æ— é™æ»šåŠ¨" class="headerlink" title="æ— é™æ»šåŠ¨"></a>æ— é™æ»šåŠ¨</h2><p>åœ¨å¤§å¤šæ•°åº”ç”¨ä¸­ï¼ŒæœåŠ¡å™¨çš„æ•°æ®ç‚¹çš„ä¸ªæ•°å¾€å¾€ä¼šå¤šäºå½“å‰ tableView ä¸­æ˜¾ç¤ºçš„å•å…ƒæ ¼æ•°é‡ã€‚è¿™æ„å‘³ç€ï¼Œä½ å¿…é¡»é€šè¿‡æŸäº›æ‰‹æ®µåšæ— ç¼å¤„ç†ï¼Œä»¥ä¾¿ç”¨æˆ·åˆ·å®Œå½“å‰æ•°æ®åˆ—è¡¨æ—¶ä»æœåŠ¡ç«¯åŠ è½½æ–°çš„æ•°æ®ã€‚</p>
<p>å¾ˆå¤šæ—¶å€™ï¼Œè¿™æ˜¯é€šè¿‡æ‰‹åŠ¨è§‚å¯Ÿæ»šåŠ¨è§†å›¾æ–¹æ³•ä¸­çš„å†…å®¹åç§»æ¥å¤„ç† <code>scrollViewDidScroll:</code>, ä½¿ç”¨ ASDKï¼Œ æœ‰ä¸€ç§æ›´å…·è¯´æ˜æ€§çš„å¤„ç†æ–¹å¼ã€‚ç›¸åçš„ï¼Œä½ å¯ä»¥é¢„å…ˆç¡®å®šå¥½ä½ éœ€è¦åŠ è½½çš„é¡µæ•°ã€‚</p>
<p>ä½ è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å–æ¶ˆå·²ç»å­˜åœ¨çš„æ–¹æ³•çš„æ³¨é‡Šã€‚åœ¨ <code>AnimalTableController.m</code> çš„ç»“å°¾ï¼Œå–æ¶ˆ <code>Helpers</code> åˆ†ç±»ä¸­çš„ä¸¤ä¸ªæ–¹æ³•ã€‚ä½ å¯ä»¥è®¤ä¸º <code>-retrieveNextPageWithCompletion:</code> æ˜¯ä½ çš„ç½‘ç»œè°ƒç”¨ï¼Œè€Œ <code>-insertNewRowsInTableNode:</code> æ˜¯ä¸ªéå¸¸å…¸å‹çš„å†è¡¨ä¸­æ·»åŠ æ–°çš„å…ƒç´ çš„æ–¹æ³•ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨ <code>-viewDidLoad</code> æ·»åŠ ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span>.tableNode.view.leadingScreensForBatching = <span class="number">1.0</span>;  <span class="comment">// overriding default of 2.0</span></div></pre></td></tr></table></figure>
<p>è®¾ç½® <code>leadingScreensForBatching</code> ä¸º <strong>1.0</strong> æ„å‘³ç€å½“ç”¨æˆ·æ»‘åŠ¨ä¸€ä¸ªå±çš„æ—¶å€™ï¼Œå°±ä¼šè½½å…¥æ–°çš„æ•°æ®ã€‚</p>
<p>ç»§ç»­ï¼Œåœ¨ <code>Delegate</code> åˆ†ç±»ä¸­å®ç°ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)shouldBatchFetchForTableNode:(ASTableNode *)tableNode &#123;</div><div class="line">  <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¯¥æ–¹æ³•ç”¨äºå‘Šè¯‰ <code>tableView</code> æ˜¯å¦ç»§ç»­è¯·æ±‚æ–°çš„æ•°æ®ã€‚å¦‚æœè¿”å› <code>NO</code>ï¼Œåˆ™åœ¨åˆ°è¾¾ API æ•°æ®æœ«å°¾æ—¶ï¼Œä¸ä¼šå†ä¸ä¼šå‘å‡ºä»»ä½•è¯·æ±‚ã€‚</p>
<p>å› ä¸ºä½ å¸Œæœ›æ— é™æ»šåŠ¨ï¼Œé‚£å°±è¿”å› <code>YES</code>ï¼Œä»¥ç¡®ä¿æ€»æ˜¯è¯·æ±‚æ–°çš„æ•°æ®ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè¿˜è¦æ·»åŠ ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)tableNode:(ASTableNode *)tableNode willBeginBatchFetchWithContext:(ASBatchContext *)context &#123;</div><div class="line">  <span class="comment">//1</span></div><div class="line">  [<span class="keyword">self</span> retrieveNextPageWithCompletion:^(<span class="built_in">NSArray</span> *animals) &#123;</div><div class="line">    <span class="comment">//2</span></div><div class="line">    [<span class="keyword">self</span> insertNewRowsInTableNode:animals];</div><div class="line">    <span class="comment">//3</span></div><div class="line">    [context completeBatchFetching:<span class="literal">YES</span>];</div><div class="line">  &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¯¥æ–¹æ³•åœ¨ç”¨æˆ·æ»‘åŠ¨åˆ° table çš„æœ«ç«¯å¹¶ï¼Œä¸” <code>-shouldBatchFetchForTableNode:</code> æ–¹æ³•è¿”å› <code>YES</code> æ—¶è¢«è°ƒç”¨ã€‚</p>
<p>è®©æˆ‘ä»¬å›é¡¾ä¸‹ä¸Šé¢çš„ç« èŠ‚ï¼š</p>
<ol>
<li>é¦–å…ˆï¼Œä½ è¦è¯·æ±‚æ–°çš„ animals æ•°æ®æ¥å±•ç¤ºã€‚é€šå¸¸æ˜¯é€šè¿‡ API æ¥è·å–çš„ä¸€ç»„arrayã€‚</li>
<li>å®Œæˆåï¼Œç”¨æ–°ä¸‹è½½çš„æ•°æ®æ›´æ–° tableView</li>
<li>æœ€åï¼Œç¡®ä¿ <code>-completeBatchFetching:</code>è¿”å›çš„æ˜¯<code>YES</code>ï¼Œå³å¤§åŠŸå‘Šæˆã€‚åœ¨å®Œæˆæ“ä½œä¹‹å‰ï¼Œä¸ä¼šè¿›è¡Œæ–°çš„æ•°æ®è¯·æ±‚ã€‚</li>
</ol>
<p>Build and Runï¼Œå¹¶ä¸”ä¸åœçš„æ»šå‘€æ»šã€‚ä½ å°†ä¼šçœ‹åˆ°ä¸åœçš„çœ‹åˆ°ä¸€åªé¸Ÿï¼Œä»–ä»¬æ˜¯æ— é™çš„ã€‚</p>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/06/InfiniteScrollingGif.gif" alt=""></p>
<h2 id="æ™ºèƒ½é¢„åŠ è½½"><a href="#æ™ºèƒ½é¢„åŠ è½½" class="headerlink" title="æ™ºèƒ½é¢„åŠ è½½"></a>æ™ºèƒ½é¢„åŠ è½½</h2><p>ä½ åœ¨å·¥ä½œä¸­æ˜¯å¦æ›¾ç»é‡åˆ°éœ€è¦é¢„å…ˆåŠ è½½å†…å®¹åˆ° scrollView æˆ–è€… pageView æ§åˆ¶å™¨ä¸­ï¼Ÿä¹Ÿè®¸ä½ æ­£åœ¨å¤„ç†ä¸€ä¸ªå……æ»¡å±å¹• image ï¼Œå¹¶ä¸”æ€»æ˜¯å¸Œæœ›åœ¨æ¥ä¸‹æ¥çš„å‡ å¼ å›¾ç‰‡åŠ è½½æ—¶å¤„äºç­‰å¾…çŠ¶æ€ï¼Œæ‰€ä»¥ç”¨æˆ·å¾ˆå°‘çœ‹åˆ°å ä½ç¬¦ã€‚</p>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/03/iThinkIveGotThis-480x229.png" alt=""></p>
<p>å½“ä½ å†è¿™æ ·çš„ä½“ç³»ä¸‹å·¥ä½œæ—¶ï¼Œä½ å¾ˆå¿«å°±ä¼šæ„è¯†åˆ°æœ‰å¾ˆå¤šé—®é¢˜è¦è€ƒè™‘ã€‚</p>
<ul>
<li>ä½ å ç”¨äº†å¤šå°‘å†…å­˜</li>
<li>ä½ åº”è¯¥æå‰å¤šä¹…åŠ è½½å†…å®¹</li>
<li>ä½ å†³å®šä»€ä¹ˆæ—¶å€™å¿½ç•¥ç”¨æˆ·çš„äº¤äº’åæ˜ </li>
</ul>
<p>å¹¶ä¸”å½“ä½ è€ƒè™‘åˆ°å¤šä¸ªç»´åº¦çš„å†…å®¹æ—¶ï¼Œå°†äº›é—®é¢˜å°†ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ª<code>pageViewController</code>ï¼Œé‡Œé¢æ¯ä¸ª <code>viewController</code> éƒ½å¸¦æœ‰ä¸€ä¸ª <code>collectionView</code>ã€‚ç°åœ¨ï¼Œä½ å°±éœ€è¦è€ƒè™‘å¦‚ä½•åœ¨ä¸¤ä¸ªæ–¹å‘ä¸ŠåŠ¨æ€åŠ è½½å†…å®¹ã€‚åŒæ—¶ï¼Œè¿˜è¦å¯¹æ¯ä¸ªè®¾å¤‡è¿›è¡Œä¼˜åŒ–ã€‚</p>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/12/officespaceboss.png" alt=""></p>
<p>è¿˜è®°å¾—å‘Šè¯‰ä½  <code>ASRangeController</code> æ˜¯ä¸é‡è¦çš„å—ï¼Ÿç°åœ¨ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬çš„é‡ç‚¹ã€‚</p>
<p>åœ¨æ¯ä¸ªå®¹å™¨ç±»ä¸­ï¼Œæ‰€æœ‰åŒ…å«çš„ node éƒ½æœ‰ä¸€ä¸ªæ¥å£çŠ¶æ€çš„æ¦‚å¿µã€‚åœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´ï¼Œä¸€ä¸ª node å¯ä»¥æ˜¯ä¸‹é¢çš„ä»»æ„ç»„åˆï¼š</p>
<ul>
<li><strong>Preload Rangeï¼ˆé¢„è½½èŒƒå›´ï¼‰</strong>ï¼šé€šå¸¸æœ€è¿œçš„èŒƒå›´ä»å¯è§åŒºåŸŸã€‚è¿™æ˜¯å½“cellçš„æ¯ä¸ª subNode ï¼ˆä¾‹å¦‚ASNetworkImageNodeï¼‰ çš„å†…å®¹ä»å¤–æºåŠ è½½ï¼Œä¾‹å¦‚APIå’Œæœ¬åœ°ç¼“å­˜ã€‚è¿™ä¸æ‰¹é‡è·å–æ—¶ï¼Œä½¿ç”¨ç”¨æ¨¡å‹å¯¹è±¡ä»£è¡¨cellæœ¬èº«å½¢æˆå¯¹æ¯”ã€‚</li>
<li><strong>Display Rangeï¼ˆæ˜¾ç¤ºèŒƒå›´ï¼‰</strong>ï¼šåœ¨è¿™é‡Œè¿›è¡Œæ˜¾ç¤ºä»»åŠ¡ï¼Œä¾‹å¦‚æ–‡æœ¬ç»˜åˆ¶å’Œè¿›è¡Œå›¾åƒè§£ç ã€‚</li>
<li><strong>Visible Rangeï¼ˆå¯è§èŒƒå›´ï¼‰</strong>ï¼šæ­¤æ—¶ï¼Œnode è‡³å°‘æœ‰ä¸€ä¸ªåƒç´ åœ¨å±å¹•ä¸Šã€‚</li>
</ul>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/12/preloadingRanges-small.png" alt=""></p>
<p>è¿™äº›èŒƒå›´ä¹Ÿé€‚ç”¨äº <strong>screenfuls</strong> çš„åº¦é‡ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ <code>ASRangeTuningParameters</code> å±æ€§è½»æ¾è°ƒæ•´ã€‚</p>
<p>ä¾‹å¦‚ï¼šä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ª <code>ASNetworkImageNode</code>åœ¨ gallery çš„æ¯ä¸ªé¡µé¢ä¸­å±•ç¤ºå›¾åƒï¼Œå½“æ¯ä¸ªcellè¿›å…¥ <strong>Preload Range</strong> æ—¶ï¼Œä¼šå‘é€ç½‘ç»œè¯·æ±‚ï¼Œå¹¶ä¸”åœ¨è¿›å…¥ <strong>Display Range</strong> æ—¶è¿›è¡Œå›¾åƒè§£ç ã€‚</p>
<p>é€šå¸¸æ¥è¯´ï¼Œä½ ä¸å¿…å¯¹è¿™äº› <strong>Ranges</strong> å¤ªè¾ƒçœŸã€‚åˆ©ç”¨å¥½å·²æœ‰çš„ç»„ä»¶ï¼Œå¦‚ï¼š<code>ASNetworkImageNode</code> å’Œ <code>ASTextNode</code>ï¼Œé€šå¸¸æ¥è¯´ä½ å°†ä¼šè·å¾—æå¤§çš„ä¾¿åˆ©ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>: æœ‰ä»¶ä¸æ˜æ˜¾çš„äº‹ï¼Œè¿™äº› <strong>Ranges</strong> ä¸æ˜¯å †æ ˆçš„ã€‚ç›¸åï¼Œå®ƒä»¬ä¼šåœ¨<br><strong>Visible Range</strong> ä¸Šé‡å å’Œæ±‡èšã€‚å¦‚æœå°†æ˜¾ç¤ºå’Œé¢„å–éƒ½è®¾ç½®ä¸ºä¸€ä¸ªå±å¹•ï¼Œåˆ™å®ƒä»¬å°†å®Œå…¨ç›¸åŒã€‚é€šå¸¸æ•°æ®éœ€è¦å­˜åœ¨æ‰èƒ½æ˜¾ç¤ºï¼Œæ‰€ä»¥ä¸€èˆ¬é¢„å–èŒƒå›´åº”è¯¥ç¨å¤§ä¸€ç‚¹ã€‚é‚£ä¹ˆåœ¨ node åˆ°è¾¾è¯¥èŒƒå›´æ—¶ï¼Œå°±å¯ä»¥å¼€å§‹æ˜¾ç¤ºã€‚</p>
</blockquote>
<p>é€šå¸¸ï¼Œè¯¥èŒƒå›´çš„å‰ä¾§å¤§äºåä¾§ã€‚å½“ç”¨æˆ·æ”¹å˜å…¶æ»šåŠ¨æ–¹å‘æ—¶ï¼ŒèŒƒå›´çš„å¤§å°ä¹Ÿæ˜¯ç›¸åçš„ï¼Œä»¥ä¾¿äºå¯¹åº”ç”¨æˆ·å®é™…ç§»åŠ¨çš„æ–¹å‘ã€‚</p>
<h2 id="Nodeæ¥å£çš„çŠ¶æ€å›è°ƒ"><a href="#Nodeæ¥å£çš„çŠ¶æ€å›è°ƒ" class="headerlink" title="Nodeæ¥å£çš„çŠ¶æ€å›è°ƒ"></a>Nodeæ¥å£çš„çŠ¶æ€å›è°ƒ</h2><p>ä½ å¯èƒ½ä¼šç–‘æƒ‘ï¼šè¿™äº› <strong>Ranges</strong> æ˜¯å¦‚ä½•æ­£ç¡®å·¥ä½œçš„ï¼Ÿå¾ˆé«˜å…´ä½ è¿™æ ·é—®~</p>
<p>ç³»ç»Ÿä¸­çš„æ¯ä¸ª node éƒ½æœ‰ä¸€ä¸ª<code>interfaceState</code> å±æ€§ï¼Œæ˜¯ä¸€ä¸ªå¸¦æœ‰å­—æ®µï¼ˆ(NS_OPTIONï¼‰<code>ASInterfaceState</code>ç±»å‹ã€‚<code>ASRangeController</code> è´Ÿè´£ç®¡ç† <code>ASCellNode</code> åœ¨ <code>scrolView</code> ä¸Šçš„ç§»åŠ¨ï¼Œæ¯ä¸ªsubNode éƒ½ç”±ä¸€ä¸ª <code>interfaceState</code> å±æ€§åšå¯¹åº”çš„æ›´æ–°ã€‚è¿™æ„å‘³ç€å³ä½¿æ—¶ tree ä¸­æœ€æ·±çš„ nodes ä¹Ÿå¯ä»¥ç›¸åº” <code>interfaceState</code> çš„å˜åŒ–ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¾ˆå°‘éœ€è¦ç›´æ¥å»æ“ä½œ node çš„ <code>interfaceState</code> ä¸Šçš„ äºŒè¿›åˆ¶ä½ã€‚æ›´å¸¸è§çš„åšæ³•æ—¶ï¼Œä½ åªéœ€è¦å¯¹æŸ node çš„ç‰¹å®šçš„çŠ¶æ€è¿›è¡Œæ›´æ”¹ã€‚è¿™å°±æ˜¯æ¥å£çš„çŠ¶æ€å›è°ƒã€‚</p>
<h4 id="Node-å‘½å"><a href="#Node-å‘½å" class="headerlink" title="Node å‘½å"></a>Node å‘½å</h4><p>ä¸ºäº†çœ‹åˆ°ä¸€ä¸ª node çš„å„ç§çŠ¶æ€ï¼Œç»™å®ƒå‘½åæ—¶å¾ˆæœ‰å¿…è¦çš„ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥ç›‘æµ‹æ¯ä¸ª node çš„æ•°æ®åŠ è½½ã€å†…å®¹æˆã€å±å¹•å±•ç¤ºä»¥åŠæ‰€ä»¥çš„äº‹æƒ…ã€‚</p>
<p>å›åˆ°ä»£ç <code>-tableNode:nodeBlockForRowAtIndexPath:</code>,æ·»åŠ ä¸€å¥æ³¨é‡Š</p>
<pre><code>//You&apos;ll add something extra here later...
</code></pre><p>åœ¨å®ƒçš„ä¸‹é¢ï¼Œç»™ <code>cardNode</code> æ·»åŠ ä¸€ä¸ª <code>debugName</code>ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cardNode.debugName = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"cell %zd"</span>, indexPath.row];</div></pre></td></tr></table></figure>
<h4 id="è§‚å¯Ÿ-Cells"><a href="#è§‚å¯Ÿ-Cells" class="headerlink" title="è§‚å¯Ÿ Cells"></a>è§‚å¯Ÿ Cells</h4><p>è¿›å…¥ <code>CardNode_InterfaceCallbacks.m</code> ä¸­ï¼Œä½ å¯ä»¥æ‰¾åˆ°å…­ç§è¿½è¸ª node åœ¨ ranges ä¸­çš„çŠ¶æ€çš„æ–¹æ³•ã€‚å–æ¶ˆæ³¨é‡Šï¼ŒBuild and Runã€‚æ‰“å¼€ä½ çš„æ§åˆ¶å°ï¼Œç„¶åæ…¢æ…¢æ»‘åŠ¨ tableã€‚å¯¹ç…§ä½ çš„æ»‘åŠ¨ï¼Œè§‚å¯Ÿcellåœ¨å¯¹åº”çš„çŠ¶æ€å˜åŒ–ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åªè¦å…³å¿ƒ <code>-didEnterVisibleState</code> æˆ– <code>-didExitVisibleState</code> æ–¹æ³•å¯¹ <code>ASInterfaceState</code> çš„æ”¹å˜ã€‚æˆ–è€…è¯´ï¼Œå·²ç»ä¸ºä½ åšå¥½äº†è®¸å¤šå¼•æ“ã€‚ä½ å¯ä»¥æŸ¥çœ‹ <code>ASNetworkImageNode</code> ä¸­çš„ä»£ç ï¼Œçœ‹çœ‹ä½ é›†æˆçš„é€šè¿‡<code>Preload</code> å’Œ <code>Display</code> çŠ¶æ€å®ç°çš„åŠŸèƒ½ã€‚ æ‰€æœ‰ node ç½‘ç»œå›¾ç‰‡çš„è¯·æ±‚å’Œè§£ç ï¼Œä»¥åŠå†…å­˜çš„é‡Šæ”¾éƒ½æ˜¯è‡ªåŠ¨å®Œæˆï¼Œä¸è´¹å¹ç°ä¹‹åŠ›ã€‚</p>
</blockquote>
<h2 id="æ™ºèƒ½é¢„åŠ è½½ï¼ˆç»­ï¼‰"><a href="#æ™ºèƒ½é¢„åŠ è½½ï¼ˆç»­ï¼‰" class="headerlink" title="æ™ºèƒ½é¢„åŠ è½½ï¼ˆç»­ï¼‰"></a>æ™ºèƒ½é¢„åŠ è½½ï¼ˆç»­ï¼‰</h2><p>åœ¨ <strong>2.0</strong> ç‰ˆæœ¬ä¸­ï¼Œå·²ç»ä»‹ç»äº†å¤šä¸ªç»´åº¦ä¸Šæ™ºèƒ½ä¸åŠ è½½çš„æ¦‚å¿µã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªç«–ç›´æ»šåŠ¨çš„<code>tableView</code>ï¼Œåœ¨å…¶ä¸­æŸäº›CellåŒ…å«äº†æ°´å¹³æ»šåŠ¨çš„ <code>collectionView</code>ã€‚</p>
<p><img src="https://koenig-media.raywenderlich.com/uploads/2016/07/proaldGif%5E2.gif" alt=""></p>
<p>å°½ç®¡ç°åœ¨çš„æŠ€æœ¯èƒ½å¤Ÿå®ç°ï¼Œä½†ä½ ä¸ä¼šå¸Œæœ›åœ¨åˆ°è¾¾å¯è§åŒºåŸŸä¹‹å‰é¢„å…ˆåŠ è½½å…¨éƒ¨çš„ collectionã€‚ç›¸åçš„ï¼Œä¸¤ä¸ªæ–¹å‘ä¸Šçš„ scrollView éƒ½ç”±å„è‡ªçš„ <code>ASRangeController</code> å•ç‹¬æ§åˆ¶è‡ªå·±çš„ range å‚æ•°ã€‚</p>
<h2 id="æ¥åˆ°äºŒæ¬¡å…ƒ"><a href="#æ¥åˆ°äºŒæ¬¡å…ƒ" class="headerlink" title="æ¥åˆ°äºŒæ¬¡å…ƒ"></a>æ¥åˆ°äºŒæ¬¡å…ƒ</h2><p>ç°åœ¨ï¼Œä½ å·²ç»æœ‰äº†å®Œæ•´çš„ <code>AnimalTableController</code>ï¼Œ ä½ å¯ä»¥æŠŠå®ƒåšä¸º ASPagerNode çš„ä¸€ä¸ªpageã€‚</p>
<p>é¡¹ç›®å·²ç»æå‰å†™å¥½äº†æ§åˆ¶å™¨çš„ä»£ç ï¼Œé¦–å…ˆè¿›å…¥ <strong><code>AppDelegate.m</code></strong>ã€‚</p>
<p>æ‰¾åˆ° <code>-installRootViewController</code> çš„ä¸‹é¢ä»£ç ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">AnimalTableController *vc = [[AnimalTableController alloc] </div><div class="line">                              initWithAnimals:[RainforestCardInfo allAnimals]];</div></pre></td></tr></table></figure>
<p>æ›¿æ¢ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">AnimalPagerController *vc = [[AnimalPagerController alloc] init];</div></pre></td></tr></table></figure>
<p>ç„¶åï¼Œè·³åˆ° <strong><code>AnimalPagerController.m</code></strong> åœ¨ <code>-init</code> æ–¹æ³•ä¸­æ·»åŠ åˆ›å»º <code>pager</code> æ–¹æ³•ä»¥åŠ <code>dataSource</code> çš„æ•°æ®æºï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">_pagerNode = [[ASPagerNode alloc] init];</div><div class="line">_pagerNode.dataSource = <span class="keyword">self</span>;</div></pre></td></tr></table></figure>
<p>pagerNode æ˜¯ <code>ASCollectionNode</code> çš„å­ç±»ï¼Œä½¿ç”¨æ–¹æ³•ä¸ <code>UIPageViewController</code> ä¸€æ ·ã€‚API å®é™…ä¸Šæ¯” <code>UIPageViewController</code> è¦ç®€å•çš„å¤šã€‚</p>
<p>æ¥ä¸‹æ¥è¦å®ç° pager çš„ <code>dataSource</code> æ–¹æ³•ï¼Œåœ¨åº•éƒ¨æ‰¾åˆ° <code>ASPagerDataSource</code> åˆ†ç±».</p>
<p>é¦–å…ˆï¼Œå‘Šè¯‰ pager æœ‰å‡ ä¸ªé¡µé¢ã€‚å®é™…ä¸Šå½“å‰çš„ animal æ•°ç»„ä¸­æœ‰ä¸‰ç»„ä¸åŒåŠ¨ç‰©ï¼Œæˆ‘ä»¬éœ€è¦é‡å†™ <code>-numberOfPagesInPagerNode:</code>æ–¹æ³•ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSInteger</span>)numberOfPagesInPagerNode:(ASPagerNode *)pagerNode &#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">self</span>.animals.count;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶åï¼Œä½ éœ€è¦å®ç° <code>-pagerNode:nodeAtIndex</code> æ–¹æ³•ï¼Œç±»ä¼¼äºå…ˆå‰å®ç°çš„ ASTableNode çš„ <code>dataSource</code> æ–¹æ³•ã€‚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (ASCellNode *)pagerNode:(ASPagerNode *)pagerNode nodeAtIndex:(<span class="built_in">NSInteger</span>)index &#123;</div><div class="line">    <span class="comment">// 1</span></div><div class="line">    <span class="built_in">NSArray</span> *animals = <span class="keyword">self</span>.animals[index];</div><div class="line">    <span class="comment">// 2</span></div><div class="line">    ASCellNode *node = [[ASCellNode alloc] initWithViewControllerBlock:^<span class="built_in">UIViewController</span> * _Nonnull&#123;</div><div class="line">        <span class="keyword">return</span>  [[AnimalTableController alloc] initWithAnimals:animals];</div><div class="line">    &#125; didLoadBlock:<span class="literal">nil</span>];</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> node;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥æ€»ç»“ä¸‹è¿™éƒ¨åˆ†ï¼š</p>
<ol>
<li>å°½ç®¡è¿™ä¸ªç‰ˆæœ¬ä¸­æ²¡æœ‰è¿›è¡Œæ¨¡å—åŒ–åˆ†ï¼Œä½†æ˜¯é¦–å…ˆè·å–æ•°æ®æ¨¡å‹æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</li>
<li>è¿™ä¸€æ¬¡ï¼Œä½ ä½¿ç”¨çš„æ­£æ˜¯å¼ºå¤§çš„ <code>-initWithViewControllerBlock:</code> æ„é€ å™¨ã€‚ä½ æ‰€è¦åšçš„å°±æ˜¯è¿”å›ä¸€ä¸ªblockï¼Œè¿™ä¸ª block è¿”å›ä½ æå‰è®¾ç½®å¥½çš„ tableNodeControllerï¼Œå®ƒå°†è‡ªåŠ¨å±•ç¤ºåœ¨pager çš„ é¡µé¢ä¸­ã€‚çœŸæ˜¯å¤ªé…·äº†ğŸ˜~</li>
</ol>
<p>ä¸€æ—¦ä½ æ·»åŠ äº†è¿™ä¸ªæ–¹æ³•ï¼Œä½ å°†æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´åŠŸèƒ½çš„ Pagarï¼Œå…¶ä¸­çš„ cell æ˜¯ä»ä½ åŸå…ˆåˆ›å»ºçš„ <code>tableNodeController</code> ç”Ÿæˆçš„ã€‚ç°åœ¨ï¼Œå°±å¯ä»¥åœ¨ç”¨æˆ·çš„å‚ç›´å’Œæ°´å¹³æ»‘åŠ¨ä¸‹ï¼Œå……åˆ†å‘æŒ¥äºŒç»´é¢„åŠ è½½çš„åŠŸèƒ½ï¼</p>
<p>è¦æŸ¥çœ‹è¿™ä¸ª AsyncDisplayKit 2.0 æ•™ç¨‹å®Œæ•´çš„é¡¹ç›®ï¼Œ<a href="https://koenig-media.raywenderlich.com/uploads/2016/12/AsyncDisplayKit-Finished-4.zip" target="_blank" rel="external">ç‚¹å‡»è¿™é‡Œè¿›è¡Œä¸‹è½½</a>ã€‚å¦‚æœä½ æƒ³æŸ¥çœ‹swiftç‰ˆæœ¬ï¼Œ<a href="https://koenig-media.raywenderlich.com/uploads/2016/12/RainForestSwift-1.zip" target="_blank" rel="external">è¿™é‡Œä¹Ÿæœ‰</a>ã€‚</p>
<p>å‡†å¤‡å¥½ä¹‹åï¼Œè¯·è½¬åˆ°è¯¥é¡¹ç›®çš„ç¬¬2éƒ¨åˆ†ï¼Œäº†è§£ AsyncDisplayKit 2.0 å¼•å…¥çš„å¼ºå¤§çš„æ–°çš„å¸ƒå±€ç³»ç»Ÿã€‚</p>
<p>å¦‚æœä½ æƒ³å…ˆè¿›è¡Œæ·±å…¥äº†è§£ï¼Œä½ å¯ä»¥é˜…è¯» <a href="https://asyncdisplaykit.org/" target="_blank" rel="external">AsyncDisplayKitä¸»é¡µ</a> çš„æ–‡æ¡£ã€‚Scott Goodsonï¼ˆAsyncDisplayKitçš„åŸåˆ›ä½œè€…ï¼‰ä¹Ÿæœ‰å‡ ä¸ªä½ å¯èƒ½ä¼šæ„Ÿå…´è¶£çš„è¯é¢˜ã€‚æœ€è¿‘çš„è¯é¢˜å¾ˆå¥½çš„æ¦‚è¿°äº†ä¸€äº›æ¡†æ¶å¯¹å¤„ç†å¤§å›¾ç‰‡å­˜åœ¨é—®é¢˜çš„çš„å°è¯•ã€‚</p>
<p>ä½ å¯èƒ½ä¼šå¯¹ <a href="https://www.youtube.com/watch?v=OiY1cheLpmI" target="_blank" rel="external">Paperçš„æ„å»º</a> æ„Ÿå…´è¶£ã€‚è™½ç„¶å½“æ—¶å¹¶æ²¡æœ‰å¼€æºï¼Œå¹¶ä¸”æœ‰è®¸å¤šåœ°æ–¹å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†çœ‹åˆ°è¿™ä¸€åˆ‡çš„å¼€å§‹è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª <a href="https://github.com/facebook/AsyncDisplayKit/issues/1582" target="_blank" rel="external">public Skack channel</a> ,æ¬¢è¿æ¥æé—®~</p>
<h1 id="è‘—ä½œæƒå£°æ˜"><a href="#è‘—ä½œæƒå£°æ˜" class="headerlink" title="è‘—ä½œæƒå£°æ˜"></a>è‘—ä½œæƒå£°æ˜</h1><p>æœ¬æ–‡è¯‘è‡ª <a href="https://www.raywenderlich.com/124311/asyncdisplaykit-2-0-tutorial-getting-started" target="_blank" rel="external">AsyncDisplayKit 2.0 Tutorial: Getting Started</a> .</p>
<p>ç”±<a href="http://github.com/qiubaiying" target="_blank" rel="external">@æŸè§(BY)</a>è¿›è¡Œç¿»è¯‘,é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>ï¼Œè½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/17/2017-03-17-Macç»ˆç«¯(zsh)ä¸‹ç”¨ä»£ç ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶æˆ–ç›®å½•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/17/2017-03-17-Macç»ˆç«¯(zsh)ä¸‹ç”¨ä»£ç ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶æˆ–ç›®å½•/" itemprop="url">æœªå‘½å</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-03-17T00:00:00+08:00">
                2017-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p> æœ€è¿‘åœ¨å–µç¥ onevcat çš„ç›´æ’­ä¸­å‘ç°å–µç¥ç›´æ¥åœ¨ç»ˆç«¯å°±èƒ½ç”¨ vsCode æ‰“å¼€å½“å‰ä»£ç ç›®å½•ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p> åœ¨<code>zsh</code>ç»ˆç«¯ä¸­ ä½¿ç”¨ <code>code .</code>ï¼Œåœ¨ <strong>vcCode</strong> æ‰“å¼€å½“å‰æ–‡ä»¶ç›®å½•</p>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fdpxob9m7sj31000rkam7.jpg" alt=""></p>
<h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><h2 id="é…ç½®ç»ˆç«¯ç¯å¢ƒ"><a href="#é…ç½®ç»ˆç«¯ç¯å¢ƒ" class="headerlink" title="é…ç½®ç»ˆç«¯ç¯å¢ƒ"></a>é…ç½®ç»ˆç«¯ç¯å¢ƒ</h2><p>ç»ˆç«¯ç¯å¢ƒä¸ºï¼š<a href="https://www.iterm2.com/" target="_blank" rel="external">iTerm2</a> + <a href="https://wiki.archlinux.org/index.php/Zsh_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="external">zsh</a>)</p>
<p>zsh ä½¿ç”¨ <a href="http://ohmyz.sh/" target="_blank" rel="external">oh_my_zsh</a> é…ç½®</p>
<h2 id="å®‰è£…zsh"><a href="#å®‰è£…zsh" class="headerlink" title="å®‰è£…zsh"></a>å®‰è£…zsh</h2><h4 id="æŸ¥çœ‹ä½ çš„ç³»ç»Ÿæœ‰å‡ ç§shell"><a href="#æŸ¥çœ‹ä½ çš„ç³»ç»Ÿæœ‰å‡ ç§shell" class="headerlink" title="æŸ¥çœ‹ä½ çš„ç³»ç»Ÿæœ‰å‡ ç§shell"></a>æŸ¥çœ‹ä½ çš„ç³»ç»Ÿæœ‰å‡ ç§shell</h4><pre><code>cat /etc/shells
</code></pre><p>æ˜¾ç¤º</p>
<pre><code>/bin/bash
/bin/csh
/bin/ksh
/bin/sh
/bin/tcsh
/bin/zsh
</code></pre><h4 id="å®‰è£…-oh-my-zsh"><a href="#å®‰è£…-oh-my-zsh" class="headerlink" title="å®‰è£… oh my zsh"></a>å®‰è£… oh my zsh</h4><pre><code>git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc
</code></pre><p>é‡æ–°æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ </p>
<pre><code>zsh
</code></pre><p>å³å¯åˆ‡æ¢ç»ˆç«¯ï¼Œå¹¶ä¸”å‘ç° oh my zsh å·²ç»å¸®æˆ‘ä»¬é…ç½®å¥½ zsh äº†</p>
<h4 id="ä¿®æ”¹ä¸»é¢˜"><a href="#ä¿®æ”¹ä¸»é¢˜" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜"></a>ä¿®æ”¹ä¸»é¢˜</h4><pre><code>open ~/.zshrc 
</code></pre><p>ä¿®æ”¹ <code>ZSH_THEME=â€robbyrussellâ€</code>ï¼Œä¸»é¢˜åœ¨ ~/.oh-my-zsh/themes ç›®å½•ä¸‹ã€‚<br>ä¿®æ”¹ä¸º</p>
<pre><code>ZSH_THEME=&quot;kolo&quot;
</code></pre><p>å¯ä»¥<a href="https://github.com/robbyrussell/oh-my-zsh/wiki/themes" target="_blank" rel="external">å‚ç…§è¿™é‡Œ</a>è¿›è¡Œé€‰æ‹©.</p>
<h4 id="è®¾ç½®ä¸ºé»˜è®¤shell"><a href="#è®¾ç½®ä¸ºé»˜è®¤shell" class="headerlink" title="è®¾ç½®ä¸ºé»˜è®¤shell"></a>è®¾ç½®ä¸ºé»˜è®¤shell</h4><pre><code>chsh -s /bin/zsh
</code></pre><h2 id="ä¿®æ”¹-zsh-é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹-zsh-é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ zsh é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹ <code>zsh</code> é…ç½®æ–‡ä»¶</h2><pre><code>$ open ~/.zshrc
</code></pre><p>åœ¨æ–‡ä»¶ä¸­åŠ ä¸Šè¿™å‡ è¡Œä»£ç </p>
<p>å¯¹åº” atomã€SublimeTextã€ä¸ vcCodeã€‚</p>
<pre><code>alias atom=&apos;/Applications/Atom.app/Contents/MacOS/Atom&apos;
alias subl=&apos;/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl&apos;
alias code=&apos;/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/bin/code&apos;
</code></pre><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p>ä½¿ç”¨ vcCode æ‰“å¼€</p>
<pre><code>$ code .
</code></pre><blockquote>
<p>æœ¬æ–‡é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>, ä½œè€… <a href="http://github.com/qiubaiying" target="_blank" rel="external">@æŸè§(BY)</a> ,è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/10/2017-03-10-CocoaPodsç§æœ‰ä»“åº“çš„åˆ›å»º/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JimmyZhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jimmy'Zone">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/10/2017-03-10-CocoaPodsç§æœ‰ä»“åº“çš„åˆ›å»º/" itemprop="url">CocoaPodsç§æœ‰ä»“åº“çš„åˆ›å»º</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-03-10T00:00:00+08:00">
                2017-03-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æœ¬æ–‡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="external">BY Blog</a>ã€<a href="http://www.jianshu.com/p/d2d98298b1b8" target="_blank" rel="external">ç®€ä¹¦</a> è½¬è½½è¯·ä¿ç•™é“¾æ¥</p>
<p>ä¸Šä¸€ç¯‡æ–‡ç«  <a href="http://qiubaiying.top/2017/03/08/CocoaPodså…¬æœ‰ä»“åº“çš„åˆ›å»º/" target="_blank" rel="external">ã€ŠCocoaPodså…¬æœ‰ä»“åº“çš„åˆ›å»ºã€‹</a></p>
</blockquote>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€è¿‘å‚ç…§äº†ç½‘ä¸Šä¸€å¤§å † CocoaPodsç§æœ‰ä»“åº“ çš„æ•™ç¨‹ï¼ŒæŒ‰æ•™ç¨‹æ“ä½œå¾—åˆ°çš„podä»“åº“é‡Œé¢æ˜¯è¿™æ ·çš„~</p>
<p><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1fdgexnidglj30yq0eqn0r.jpg" alt=""></p>
<p>ä»£ç å’Œç‰ˆæœ¬æè¿°å±…ç„¶æ··åœ¨äº†ä¸€èµ·ï¼Œç®€ç›´å¤ªç³Ÿç³•~</p>
<p>è™½ç„¶ä¹Ÿèƒ½ç”¨ï¼Œä½†æ˜¯å’ŒCocoaPodsæœ¬èº«çš„ç»“æ„è®¾è®¡å°±ä¸ç›¸ç¬¦ã€‚</p>
<p>åœ¨ä¸Šä¸€ç¯‡<a href="http://qiubaiying.top/2017/03/08/CocoaPodså…¬æœ‰ä»“åº“çš„åˆ›å»º/" target="_blank" rel="external">ã€ŠCocoaPodså…¬æœ‰ä»“åº“çš„åˆ›å»ºã€‹</a>ä¸­æˆ‘ä»¬äº†è§£åˆ°ï¼Œ<code>master</code> ç›®å½•ä¸­åªå­˜æ”¾ ä»£ç åº“ çš„æè¿°æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å­˜æ”¾ä»£ç ã€‚å°±åƒè¿™æ ·</p>
<p><img src="https://ww4.sinaimg.cn/large/006tKfTcgy1fdgf4l54rxj30ya09ujst.jpg" alt=""></p>
<p>ä»£ç æˆ‘ä»¬å¦å¤–å­˜æ”¾åœ¨ä»£ç ä»“åº“ä¸­</p>
<p><img src="https://ww4.sinaimg.cn/large/006tKfTcgy1fdgf9t7vcgj30n206s0u8.jpg" alt=""></p>
<p>å¾ˆå¤šäººä¸äº†è§£CocoaPodsçš„å·¥ä½œåŸç†å°±å¤åˆ¶ç²˜è´´åˆ«äººçš„æ•™ç¨‹æ¥åšæ•™ç¨‹~</p>
<p>åæ§½ç»“æŸï¼Œè¿›å…¥æ­£æ–‡</p>
<h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><h4 id="åˆ›å»ºç‰ˆæœ¬åº“-repo"><a href="#åˆ›å»ºç‰ˆæœ¬åº“-repo" class="headerlink" title="åˆ›å»ºç‰ˆæœ¬åº“(repo)"></a>åˆ›å»ºç‰ˆæœ¬åº“(<strong>repo</strong>)</h4><p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåƒ <code>master</code> ä¸€æ ·çš„å­˜æ”¾ç‰ˆæœ¬æè¿°æ–‡ä»¶çš„gitä»“åº“ï¼Œå› ä¸ºæ˜¯ç§äººgitä»“åº“ï¼Œæˆ‘ä»¬é€‰æ‹© <a href="http://git.oschina.net/" target="_blank" rel="external">oschina</a> åˆ›å»ºè¿œç¨‹ç§æœ‰ä»“åº“ï¼ˆå› ä¸ºæ˜¯å…è´¹çš„ï¼‰æˆ–è€…ä¹Ÿå¯ä»¥åœ¨GitHubä¸Šåˆ›å»ºï¼ˆ<strong>$7/month</strong>ï¼‰ã€‚</p>
<p>ä¸‹é¢ä»¥ <a href="http://git.oschina.net/" target="_blank" rel="external">oschina</a> ä¸ºä¾‹</p>
<p>åˆ›å»ºç‰ˆæœ¬æè¿°ä»“åº“</p>
<p><img src="https://ww1.sinaimg.cn/large/006tKfTcgy1fdgfqdqyy1j31kw1c2th0.jpg" alt=""></p>
<p>å›åˆ°ç»ˆç«¯ï¼Œå°†è¿™ä¸ªè¿œç¨‹çš„ç§æœ‰ç‰ˆæœ¬ä»“åº“æ·»åŠ åˆ°æœ¬åœ°ï¼Œ<code>repo</code> å°±æ˜¯ repository å‚¨å­˜åº“çš„ç¼©å†™ã€‚</p>
<pre><code>$ pod repo add MyRepo https://git.oschina.net/baiyingqiu/MyRepo.git
</code></pre><p>æŸ¥çœ‹åœ¨ Finder ç›®å½• <code>~/.cocoapods/repos</code>ï¼Œ å¯ä»¥å‘ç°å¢åŠ äº†ä¸€ä¸ª MyRepo çš„å‚¨å­˜åº“</p>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fdgfyfl6v6j316y0piwhz.jpg" alt=""></p>
<h4 id="åˆ›å»ºä»£ç åº“"><a href="#åˆ›å»ºä»£ç åº“" class="headerlink" title="åˆ›å»ºä»£ç åº“"></a>åˆ›å»ºä»£ç åº“</h4><p>å›åˆ° <a href="http://git.oschina.net/" target="_blank" rel="external">oschina</a> åˆ›å»ºç§äººä»£ç åº“</p>
<p>åˆ›å»ºæ—¶æ·»åŠ  <code>MIT License</code> å’Œ <code>README</code></p>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fdgjfu7n96j31kw17y7cq.jpg" alt=""></p>
<p>å°†ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼Œæ·»åŠ <code>ä½ çš„ä»£ç æ–‡ä»¶</code>ã€<code>ä»“åº“å.podspec</code> æè¿°æ–‡ä»¶ï¼Œè¿˜æœ‰<code>.swift-version</code>.</p>
<p>å¦‚ä¸‹</p>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fdgmyefutej311a0kegqh.jpg" alt=""></p>
<p><code>.swift-version</code>æ–‡ä»¶ç”¨æ¥çŸ¥é“swiftç‰ˆæœ¬ï¼Œç”¨å‘½ä»¤è¡Œåˆ›å»º</p>
<pre><code>$ echo &quot;3.0&quot; &gt; .swift-version
</code></pre><p><strong><code>.podspec</code></strong> æ–‡ä»¶æ˜¯ä½ è¿™ä¸ªä»£ç åº“çš„podæè¿°æ–‡ä»¶,å¯ä»¥é€šè¿‡podæŒ‡ä»¤åˆ›å»ºç©ºç™½æ¨¡æ¿ï¼š</p>
<pre><code>$ pod spec create MyAdditions
</code></pre><p>æˆ–è€… <strong>å¼ºçƒˆå»ºè®®</strong> ç›´æ¥æ‹·è´ä¸‹é¢çš„æ¨¡æ¿è¿›è¡Œä¿®æ”¹</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">Pod::Spec.new <span class="keyword">do</span> <span class="params">|s|</span></div><div class="line">  s.name         = <span class="string">"MyAdditions"</span> <span class="comment"># é¡¹ç›®åç§°</span></div><div class="line">  s.version      = <span class="string">"0.0.1"</span>        <span class="comment"># ç‰ˆæœ¬å· ä¸ ä½ ä»“åº“çš„ æ ‡ç­¾å· å¯¹åº”</span></div><div class="line">  s.license      = <span class="string">"MIT"</span>          <span class="comment"># å¼€æºè¯ä¹¦</span></div><div class="line">  s.summary      = <span class="string">"ç§äººpodä»£ç "</span> <span class="comment"># é¡¹ç›®ç®€ä»‹</span></div><div class="line"></div><div class="line">  s.homepage     = <span class="string">"https://git.oschina.net/baiyingqiu/MyAdditions"</span> <span class="comment"># ä»“åº“çš„ä¸»é¡µ</span></div><div class="line">  s.source       = &#123; <span class="symbol">:git</span> =&gt; <span class="string">"https://git.oschina.net/baiyingqiu/MyAdditions.git"</span>, <span class="symbol">:tag</span> =&gt; <span class="string">"<span class="subst">#&#123;s.version&#125;</span>"</span> &#125;<span class="comment">#ä½ çš„ä»“åº“åœ°å€ï¼Œä¸èƒ½ç”¨SSHåœ°å€</span></div><div class="line">  s.source_files = <span class="string">"MyAdditions/*.&#123;h,m&#125;"</span> <span class="comment"># ä½ ä»£ç çš„ä½ç½®ï¼Œ BYPhoneNumTF/*.&#123;h,m&#125; è¡¨ç¤º BYPhoneNumTF æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„.hå’Œ.mæ–‡ä»¶</span></div><div class="line">  s.requires_arc = <span class="literal">true</span> <span class="comment"># æ˜¯å¦å¯ç”¨ARC</span></div><div class="line">  s.platform     = <span class="symbol">:ios</span>, <span class="string">"7.0"</span> <span class="comment">#å¹³å°åŠæ”¯æŒçš„æœ€ä½ç‰ˆæœ¬</span></div><div class="line">  <span class="comment"># s.frameworks   = "UIKit", "Foundation" #æ”¯æŒçš„æ¡†æ¶</span></div><div class="line">  <span class="comment"># s.dependency   = "AFNetworking" # ä¾èµ–åº“</span></div><div class="line">  </div><div class="line">  <span class="comment"># User</span></div><div class="line">  s.author             = &#123; <span class="string">"BY"</span> =&gt; <span class="string">"qiubaiyingios@163.com"</span> &#125; <span class="comment"># ä½œè€…ä¿¡æ¯</span></div><div class="line">  s.social_media_url   = <span class="string">"http://qiubaiying.github.io"</span> <span class="comment"># ä¸ªäººä¸»é¡µ</span></div><div class="line"></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘è¦è¯´ä¸€ä¸‹ä¸€ä¸ªå‘ï¼Œç”¨ <a href="http://git.oschina.net/" target="_blank" rel="external">oschina</a> åˆ›å»ºç§äººä»“åº“æ—¶, åœ¨éªŒè¯æ—¶å¯èƒ½ä¼šæ‰¾ä¸åˆ° <code>MIT LICENSE</code>è¯ä¹¦,å°†å…¶ä¸­çš„</p>
<pre><code>s.license      = &quot;MIT&quot;
ä¿®æ”¹ä¸ºï¼ŒæŒ‡å®šæ–‡ä»¶
s.license      = { :type =&gt; &quot;MIT&quot;, :file =&gt; &quot;LICENSE&quot; }
</code></pre><p>ç„¶åå¼€å§‹éªŒè¯æˆ‘ä»¬çš„ä»“åº“é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œå¹¶æŒ‰ç…§è¦æ±‚è¿›è¡Œä¿®æ”¹</p>
<pre><code>$ pod lib lint
</code></pre><p>ä¸€èˆ¬å‡ºç°é”™è¯¯è­¦å‘Šï¼Œéœ€è¦æ·»åŠ  <code>--private</code> æˆ–è€… <code>--allow-warnings</code>ï¼Œå°±å¯ä»¥é€šè¿‡éªŒè¯</p>
<pre><code>$ pod lib lint --private
</code></pre><p>éªŒè¯æˆåŠŸåå‡ºç°</p>
<pre><code> -&gt; MyAdditions (0.0.1)

MyAdditions passed validation.
</code></pre><h4 id="å°†æè¿°æ–‡ä»¶æ¨é€åˆ°ç‰ˆæœ¬åº“"><a href="#å°†æè¿°æ–‡ä»¶æ¨é€åˆ°ç‰ˆæœ¬åº“" class="headerlink" title="å°†æè¿°æ–‡ä»¶æ¨é€åˆ°ç‰ˆæœ¬åº“"></a>å°†æè¿°æ–‡ä»¶æ¨é€åˆ°ç‰ˆæœ¬åº“</h4><p>å°†é¡¹ç›®æ‰“ä¸Šæ ‡ç­¾æ¨åˆ°è¿œç¨‹ä»“åº“ï¼Œæ ‡ç­¾å· å’Œ ç‰ˆæœ¬å·å¯¹åº” éƒ½æ˜¯<code>0.0.1</code></p>
<p>æœ€åå°†æˆ‘ä»¬çš„ä»£ç ä»“åº“çš„æè¿°ä¿¡æ¯ï¼Œpush åˆ°æˆ‘ä»¬çš„ç‰ˆæœ¬ä»“åº“ä¸­</p>
<pre><code>$ pod repo push MyRepo MyAdditions.podspec
</code></pre><p>è¿™æ—¶ä¼šå¯¹è¿œç¨‹ä»“åº“è¿›è¡ŒéªŒè¯ï¼ŒæˆåŠŸçš„è¯å°±ä¼šåœ¨ <code>~/.cocoapods/repos/MyRep</code>ä¸­å‘ç°æ–°å¢çš„ä»“åº“æè¿°ä¿¡æ¯äº†</p>
<p><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1fdgo62knrwj31ko0s8784.jpg" alt=""></p>
<p>è‹¥æ˜¯å‡ºç°é”™è¯¯ä¿¡æ¯</p>
<pre><code>[!] The repo `MyRepo` at `../.cocoapods/repos/MyRepo` is not clean
</code></pre><p>æ›´æ–°ä¸‹æˆ‘ä»¬çš„ç‰ˆæœ¬åº“ï¼Œ</p>
<pre><code>$ pod repo update MyRepo
</code></pre><p>å†ç»§ç»­ä¸Šä¼ å³å¯ã€‚</p>
<p><code>pod repo push MyRepo MyAdditions.podspec</code> çš„è¿‡ç¨‹å°±æ˜¯</p>
<ol>
<li>éªŒè¯ <code>MyAdditions.podspec</code> æ–‡ä»¶</li>
</ol>
<ul>
<li>æ‹‰å–è¿œç¨‹ç‰ˆæœ¬åº“ <code>MyRepo</code></li>
<li>æ·»åŠ  <code>MyAdditions.podspec</code> åˆ°ç‰ˆæœ¬åº“ä¸­</li>
<li>push åˆ°è¿œç¨‹</li>
</ul>
<p>æ·»åŠ å®Œæˆåæˆ‘ä»¬å°±å¯ä»¥åœ¨podä¸­æœç´¢</p>
<pre><code>$ pod search MyAdditions
</code></pre><hr>
<pre><code>-&gt; MyAdditions (0.0.1)
   Some category of the framework and UIKit
   pod &apos;MyAdditions&apos;, &apos;~&gt; 0.0.1&apos;
   - Homepage: https://git.oschina.net/baiyingqiu/MyAdditions
   - Source:   https://git.oschina.net/baiyingqiu/MyAdditions.git
   - Versions: 0.0.1 [MyRepo repo]
(END)
</code></pre><h3 id="ç§äººpodåº“çš„ä½¿ç”¨"><a href="#ç§äººpodåº“çš„ä½¿ç”¨" class="headerlink" title="ç§äººpodåº“çš„ä½¿ç”¨"></a>ç§äººpodåº“çš„ä½¿ç”¨</h3><p>ä½¿ç”¨ç§äººpodåº“çš„éœ€è¦åœ¨<code>Podflie</code>ä¸­æ·»åŠ è¿™å¥è¯ï¼ŒæŒ‡æ˜ä½ çš„ç‰ˆæœ¬åº“åœ°å€ã€‚</p>
<pre><code>source â€˜https://git.oschina.net/baiyingqiu/MyRepo.gitâ€™
</code></pre><p><strong>æ³¨æ„</strong>æ˜¯ç‰ˆæœ¬åº“çš„åœ°å€ï¼Œè€Œä¸æ˜¯ä»£ç åº“çš„åœ°å€ï¼Œå¾ˆå¤šæ•™ç¨‹éƒ½æŠŠæˆ‘ææ™•äº†~</p>
<p>è‹¥æœ‰è¿˜ä½¿ç”¨äº†å…¬æœ‰çš„podåº“ï¼Œéœ€è¦æŠŠå…¬æœ‰åº“åœ°å€ä¹Ÿå¸¦ä¸Š</p>
<pre><code>source â€˜https://github.com/CocoaPods/Specs.gitâ€™
</code></pre><p>æœ€åçš„<code>Podflie</code>æ–‡ä»¶å˜æˆè¿™ä¸ªæ ·å­</p>
<pre><code>source â€˜https://github.com/CocoaPods/Specs.gitâ€™
source â€˜https://git.oschina.net/baiyingqiu/MyRepo.gitâ€™

platform :ios, &apos;8.0&apos;

target â€˜MyPodTestâ€™ do
use_frameworks!

pod â€œBYPhoneNumTFâ€ #å…¬æœ‰åº“
pod â€˜MyAdditionsâ€™ #æˆ‘ä»¬çš„ç§æœ‰åº“
pod â€˜BYAdditionsâ€™ #è¿™æ˜¯æˆ‘åˆæ·»åŠ åˆ°ç‰ˆæœ¬åº“ä¸­çš„å¦ä¸€ä¸ªä»£ç åº“

end
</code></pre><p>æµ‹è¯•ï¼š</p>
<pre><code>$ pod install
</code></pre><p>åŠ è½½å®Œæˆå¯ä»¥çœ‹åˆ°ä»£ç å·²ç»æ•´åˆåˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­äº†</p>
<p><strong>perfectï¼</strong></p>
<p><img src="https://ww4.sinaimg.cn/large/006tKfTcgy1fdhkgtfn98j30ee0hwq6y.jpg" width="250"></p>
<p>å›åˆ°Fenderä¸­ <code>~/.cocoapods/repos</code>,ä¼šå‘ç° repos ä¸­å¢åŠ äº†ä¸€ä¸ªpodç‰ˆæœ¬åº“ã€‚ </p>
<p><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1fdhlc59rl9j30ya08y0ub.jpg" alt=""></p>
<p>æ‰§è¡Œ <code>pod install</code> å‘½ä»¤æ—¶</p>
<ul>
<li><p>ä¼šæ‹‰å–è¿œç¨‹ <code>Podflie</code> ä¸­ <code>source</code> æ ‡è®° ç‰ˆæœ¬åº“ åˆ°æœ¬åœ°çš„ repos æ–‡ä»¶å¤¹ä¸­</p>
</li>
<li><p>åœ¨ ç‰ˆæœ¬åº“ ä¸­æœç´¢æˆ‘ä»¬<code>pod â€˜MyAdditionsâ€™</code> çš„ <code>MyAdditions.podspec</code> æ–‡ä»¶ã€‚</p>
</li>
<li>æ ¹æ® <code>MyAdditions.podspec</code> æ–‡ä»¶ä¸­æè¿°çš„æºç åœ°å€ä¸‹è½½å¹¶æ•´åˆåˆ°é¡¹ç›®ä¸­</li>
</ul>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>é€šè¿‡ <a href="http://qiubaiying.top/2017-03-10-CocoaPodsç§æœ‰ä»“åº“çš„åˆ›å»º/" target="_blank" rel="external">ã€ŠCocoaPodsç§æœ‰ä»“åº“çš„åˆ›å»ºã€‹</a> å’Œ <a href="http://qiubaiying.top/2017/03/08/CocoaPodså…¬æœ‰ä»“åº“çš„åˆ›å»º/" target="_blank" rel="external">ã€ŠCocoaPodså…¬æœ‰ä»“åº“çš„åˆ›å»º</a>ã€‹è¿™ä¸¤ç¯‡æ–‡ç« ï¼Œç›¸ä¿¡å¤§å®¶å¯¹CocoaPodsçš„å·¥ä½œåŸç†éƒ½æœ‰äº†æ›´æ·±å±‚æ¬¡çš„äº†è§£ã€‚</p>
<p>åœ¨å†™åšå®¢å’Œå’Œåˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œè¸©äº†ä¸å°‘çš„å‘ï¼ˆğŸ˜€å‰äººæ•™ç¨‹ç•™ä¸‹çš„ï¼‰ï¼Œå¾ˆå¤šçš„ä¸œè¥¿åªæœ‰è‡ªå·±æ“ä½œå®Œæ‰èƒ½çœŸæ­£çš„é¢†ä¼šã€‚</p>
<p>æœ€åï¼Œå¦‚æœæœ¬æ–‡æœ‰ä»€ä¹ˆé”™è¯¯æˆ–è€…æœ‰ä»€ä¹ˆä¸åŒçš„è§‚ç‚¹æ¬¢è¿æå‡ºäº¤æµã€‚ğŸ˜‰</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="/images/avatar.png"
              alt="JimmyZhao" />
          
            <p class="site-author-name" itemprop="name">JimmyZhao</p>
            <p class="site-description motion-element" itemprop="description">Jimmy | iOS | develop | ç§»åŠ¨</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">45</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">40</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/JimmyZDD" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/yourname" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>Twitter</a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JimmyZhao</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
